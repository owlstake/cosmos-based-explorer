{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.concat.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { BCard, BCardBody, BCardFooter, BButton, BTable, BTableSimple, BTr, BTd, BCardTitle, BCardHeader, BProgressBar, BProgress, BTooltip, BBadge } from 'bootstrap-vue';\nimport FlipCountdown from 'vue2-flip-countdown'; // import fetch from 'node-fetch'\n\nimport { getCachedValidators, getStakingValidatorByAccount, percent as _percent, tokenFormatter } from '@/libs/utils';\nimport { Proposal, Proposer } from '@/libs/data';\nimport dayjs from 'dayjs';\nimport OperationModal from '@/views/components/OperationModal/index.vue';\nimport ObjectFieldComponent from './ObjectFieldComponent.vue'; // import { formatToken } from '@/libs/data/data'\n\nexport default {\n  components: {\n    BCard: BCard,\n    BCardTitle: BCardTitle,\n    BCardBody: BCardBody,\n    BCardFooter: BCardFooter,\n    BButton: BButton,\n    BTable: BTable,\n    BTableSimple: BTableSimple,\n    BCardHeader: BCardHeader,\n    BTr: BTr,\n    BTd: BTd,\n    BProgressBar: BProgressBar,\n    BProgress: BProgress,\n    BTooltip: BTooltip,\n    BBadge: BBadge,\n    ObjectFieldComponent: ObjectFieldComponent,\n    FlipCountdown: FlipCountdown,\n    OperationModal: OperationModal\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      latest: {},\n      next: null,\n      proposal: new Proposal(),\n      proposer: new Proposer(),\n      deposits: [],\n      votes: [],\n      operationModalType: '',\n      from: '../gov',\n      votes_fields: [{\n        key: 'voter',\n        sortable: true,\n        formatter: function formatter(v) {\n          return _this.formatAddress(v);\n        }\n      }, {\n        key: 'option',\n        sortable: true,\n        formatter: function formatter(value) {\n          switch (value) {\n            case 1:\n            case 'VOTE_OPTION_YES':\n              return 'Yes';\n\n            case 2:\n            case 'VOTE_OPTION_ABSTAIN':\n              return 'Abstain';\n\n            case 3:\n            case 'VOTE_OPTION_NO':\n              return 'No';\n\n            case 4:\n            case 'VOTE_OPTION_NO_WITH_VETO':\n              return 'No With Veto';\n\n            default:\n              return value;\n          }\n        }\n      }],\n      deposit_fields: [{\n        key: 'depositor',\n        formatter: function formatter(v) {\n          return _this.formatAddress(v);\n        }\n      }, {\n        key: 'amount',\n        sortable: true,\n        formatter: tokenFormatter\n      }]\n    };\n  },\n  computed: {\n    upgradeTime: function upgradeTime() {\n      if (this.proposal.type === 'cosmos-sdk/SoftwareUpgradeProposal') {\n        var _this$proposal, _this$latest;\n\n        if (Number(((_this$proposal = this.proposal) === null || _this$proposal === void 0 ? void 0 : _this$proposal.contents.plan.height) || 0) > 0 && (_this$latest = this.latest) !== null && _this$latest !== void 0 && _this$latest.block) {\n          var _this$latest$block, _this$latest$block$he;\n\n          var blocks = Number(this.proposal.contents.plan.height) - Number(((_this$latest$block = this.latest.block) === null || _this$latest$block === void 0 ? void 0 : (_this$latest$block$he = _this$latest$block.header) === null || _this$latest$block$he === void 0 ? void 0 : _this$latest$block$he.height) || 0);\n\n          if (blocks > 0) {\n            var endtime = dayjs().add(blocks * 6, 'second').format('YYYY-MM-DD HH:mm:ss');\n            return endtime;\n          }\n        }\n\n        return dayjs(this.proposal.contents.plan.time).format('YYYY-MM-DD HH:mm:ss');\n      }\n\n      return '0001-01-01 00:00:00';\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    var pid = this.$route.params.proposalid;\n\n    if (this.$route.query.from) {\n      this.from = this.$route.query.from;\n    }\n\n    this.$http.getLatestBlock().then(function (res) {\n      _this2.latest = res;\n    });\n    this.$http.getGovernance(pid).then(function (p) {\n      if (p.status === 2) {\n        _this2.$http.getGovernanceTally(pid, 0).then(function (t) {\n          return p.updateTally(t);\n        });\n      }\n\n      _this2.proposal = p;\n    });\n\n    if (!getCachedValidators()) {\n      this.$http.getValidatorList();\n    }\n\n    this.$http.getGovernanceProposer(pid).then(function (res) {\n      _this2.proposer = res;\n    });\n    this.$http.getGovernanceDeposits(pid).then(function (res) {\n      _this2.deposits = res;\n    }).catch(function () {});\n    this.$http.getGovernanceVotes(pid).then(function (res) {\n      _this2.votes = res;\n      _this2.next = res.pagination ? res.pagination.next_key : null;\n    });\n  },\n  methods: {\n    percent: function percent(v) {\n      return _percent(v);\n    },\n    formatDate: function formatDate(v) {\n      return dayjs(v).format('YYYY-MM-DD HH:mm');\n    },\n    formatToken: function formatToken(v) {\n      return tokenFormatter(v, {});\n    },\n    loadVotes: function loadVotes() {\n      var _this3 = this;\n\n      if (this.next) {\n        var pid = this.$route.params.proposalid;\n        var next = this.next;\n        this.next = null;\n        this.$http.getGovernanceVotes(pid, next).then(function (res) {\n          _this3.$set(_this3.votes, 'votes', _this3.votes.votes.concat(res.votes));\n\n          _this3.next = res.pagination ? res.pagination.next_key : null;\n        });\n      }\n    },\n    formatAddress: function formatAddress(v) {\n      return getStakingValidatorByAccount(this.$http.config.chain_name, v);\n    },\n    openModal: function openModal(type) {\n      this.operationModalType = type;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2QA,SACAA,KADA,EACAC,SADA,EACAC,WADA,EACAC,OADA,EACAC,MADA,EACAC,YADA,EACAC,GADA,EACAC,GADA,EACAC,UADA,EACAC,WADA,EAEAC,YAFA,EAEAC,SAFA,EAEAC,QAFA,EAEAC,MAFA,QAGA,eAHA;AAIA,gD,CACA;;AAEA,SACAC,mBADA,EACAC,4BADA,EACAC,mBADA,EACAC,cADA,QAEA,cAFA;AAGA;AACA;AACA;AACA,8D,CAEA;;AAEA;EACAC;IACAlB,YADA;IAEAQ,sBAFA;IAGAP,oBAHA;IAIAC,wBAJA;IAKAC,gBALA;IAMAC,cANA;IAOAC,0BAPA;IAQAI,wBARA;IASAH,QATA;IAUAC,QAVA;IAWAG,0BAXA;IAYAC,oBAZA;IAaAC,kBAbA;IAcAC,cAdA;IAeAM,0CAfA;IAgBAC,4BAhBA;IAiBAC;EAjBA,CADA;EAoBAC,IApBA,kBAoBA;IAAA;;IACA;MACAC,UADA;MAEAC,UAFA;MAGAC,wBAHA;MAIAC,wBAJA;MAKAC,YALA;MAMAC,SANA;MAOAC,sBAPA;MAQAC,cARA;MASAC,eACA;QACAC,YADA;QAEAC,cAFA;QAGAC;UAAA;QAAA;MAHA,CADA,EAMA;QACAF,aADA;QAEAC,cAFA;QAGAC;UACA;YACA;YACA;cACA;;YACA;YACA;cACA;;YACA;YACA;cACA;;YACA;YACA;cACA;;YACA;cACA;UAdA;QAgBA;MApBA,CANA,CATA;MAsCAC,iBACA;QACAH,gBADA;QAEAE;UAAA;QAAA;MAFA,CADA,EAKA;QACAF,aADA;QAEAC,cAFA;QAGAC;MAHA,CALA;IAtCA;EAkDA,CAvEA;EAwEAE;IACAC,WADA,yBACA;MACA;QAAA;;QACA;UAAA;;UACA;;UACA;YACA;YACA;UACA;QACA;;QACA;MACA;;MACA;IACA;EAbA,CAxEA;EAuFAC,OAvFA,qBAuFA;IAAA;;IACA;;IACA;MACA;IACA;;IAEA;MACA;IACA,CAFA;IAIA;MACA;QACA;UAAA;QAAA;MACA;;MACA;IACA,CALA;;IAOA;MACA;IACA;;IAEA;MACA;IACA,CAFA;IAGA;MACA;IACA,CAFA,EAEAC,KAFA,CAEA,cAFA;IAGA;MACA;MACA;IACA,CAHA;EAIA,CAtHA;EAuHAC;IACAxB;MAAA;IAAA,CADA;IAEAyB;MAAA;IAAA,CAFA;IAGAC;MAAA;IAAA,CAHA;IAIAC,SAJA,uBAIA;MAAA;;MACA;QACA;QACA;QACA;QACA;UACA;;UACA;QACA,CAHA;MAIA;IACA,CAdA;IAeAC,aAfA,yBAeAC,CAfA,EAeA;MACA;IACA,CAjBA;IAkBAC,SAlBA,qBAkBAC,IAlBA,EAkBA;MACA;IACA;EApBA;AAvHA","names":["BCard","BCardBody","BCardFooter","BButton","BTable","BTableSimple","BTr","BTd","BCardTitle","BCardHeader","BProgressBar","BProgress","BTooltip","BBadge","getCachedValidators","getStakingValidatorByAccount","percent","tokenFormatter","components","ObjectFieldComponent","FlipCountdown","OperationModal","data","latest","next","proposal","proposer","deposits","votes","operationModalType","from","votes_fields","key","sortable","formatter","deposit_fields","computed","upgradeTime","created","catch","methods","formatDate","formatToken","loadVotes","formatAddress","v","openModal","type"],"sourceRoot":"src/views","sources":["GovernanceProposalView.vue"],"sourcesContent":["<template>\n  <section>\n    <b-card\n      no-body\n    >\n      <b-card-header>\n        <b-card-title>\n          #{{ proposal.id }}\n          <b-badge\n            v-if=\"proposal.status == 1\"\n            pill\n            variant=\"light-info\"\n            class=\"text-right\"\n          >\n            Deposit\n          </b-badge>\n          <b-badge\n            v-if=\"proposal.status == 2\"\n            pill\n            variant=\"light-primary\"\n            class=\"text-right\"\n          >\n            Voting\n          </b-badge>\n          <b-badge\n            v-if=\"proposal.status == 3\"\n            pill\n            variant=\"light-success\"\n            class=\"text-right\"\n          >\n            Passed\n          </b-badge>\n          <b-badge\n            v-if=\"proposal.status == 4\"\n            pill\n            variant=\"light-danger\"\n            class=\"text-right\"\n          >\n            Rejected\n          </b-badge>\n          {{ proposal.title }}\n        </b-card-title>\n      </b-card-header>\n      <b-card-body>\n        <b-table-simple\n          stacked=\"sm\"\n          hover\n          striped\n        >\n          <tbody>\n            <b-tr>\n              <b-td\n                style=\"text-transform: capitalize; vertical-align: top; width:200px\"\n              >\n                {{ $t('proposal_id') }}\n              </b-td><b-td>{{ proposal.id }}</b-td>\n            </b-tr>\n            <b-tr>\n              <b-td>\n                {{ $t('proposal_proposer') }}\n              </b-td><b-td><router-link :to=\"`../account/${proposer.proposer}`\">\n                {{ formatAddress(proposer.proposer) }}\n              </router-link> </b-td>\n            </b-tr>\n            <b-tr>\n              <b-td>\n                {{ $t('proposal_total_deposit') }}\n              </b-td><b-td>{{ formatToken(proposal.total_deposit) }} </b-td>\n            </b-tr>\n            <b-tr>\n              <b-td>\n                {{ $t('proposal_submit_time') }}\n              </b-td><b-td>{{ formatDate(proposal.submit_time) }}</b-td>\n            </b-tr>\n            <b-tr>\n              <b-td>\n                {{ $t('voting_time') }}\n              </b-td><b-td>{{ formatDate(proposal.voting_start_time) }} - {{ formatDate(proposal.voting_end_time) }}</b-td>\n            </b-tr>\n            <b-tr>\n              <b-td>\n                {{ $t('proposal_type') }}\n              </b-td><b-td>\n                {{ proposal.type }}\n              </b-td>\n            </b-tr>\n          </tbody>\n        </b-table-simple>\n        <div>\n          <object-field-component\n            :tablefield=\"proposal.contents\"\n            :small=\"false\"\n          /></div>\n        <b-table-simple v-if=\"proposal.type === 'cosmos-sdk/SoftwareUpgradeProposal'\">\n          <b-tr>\n            <b-td class=\"text-center\">\n              {{ $t('upgrade_time') }} {{ upgradeTime }}\n              <flip-countdown :deadline=\"upgradeTime\" />\n            </b-td>\n          </b-tr>\n        </b-table-simple>\n      </b-card-body>\n      <b-card-footer>\n        <router-link :to=\"from\">\n          <b-button\n            variant=\"outline-primary\"\n          >\n            {{ $t('btn_back_list') }}\n          </b-button>\n        </router-link>\n        <b-button\n          v-b-modal.operation-modal\n          :disabled=\"proposal.status!=2\"\n          variant=\"primary\"\n          class=\"btn float-right mg-2\"\n          @click=\"openModal('Vote')\"\n        >\n          {{ $t('btn_vote') }}\n        </b-button>\n      </b-card-footer>\n    </b-card>\n    <b-card no-body>\n      <b-card-header>\n        <b-card-title>\n          Votes\n        </b-card-title>\n      </b-card-header>\n      <b-card-body>\n        <b-progress\n          :max=\"100\"\n          height=\"2rem\"\n          class=\"mb-2\"\n          show-progress\n        >\n          <b-progress-bar\n            :id=\"'vote-yes'+proposal.id\"\n            variant=\"success\"\n            :value=\"percent(proposal.tally.yes)\"\n            :label=\"`${percent(proposal.tally.yes).toFixed()}%`\"\n            show-progress\n          />\n          <b-progress-bar\n            :id=\"'vote-no'+proposal.id\"\n            variant=\"warning\"\n            :value=\"percent(proposal.tally.no)\"\n            :label=\"`${percent(proposal.tally.no).toFixed()}%`\"\n            show-progress\n          />\n          <b-progress-bar\n            :id=\"'vote-veto'+proposal.id\"\n            variant=\"danger\"\n            :value=\"percent(proposal.tally.veto)\"\n            :label=\"`${percent(proposal.tally.veto).toFixed()}%`\"\n            show-progress\n          />\n          <b-progress-bar\n            :id=\"'vote-abstain'+proposal.id\"\n            variant=\"info\"\n            :value=\"percent(proposal.tally.abstain)\"\n            :label=\"`${percent(proposal.tally.abstain).toFixed()}%`\"\n            show-progress\n          />\n        </b-progress>\n        <b-tooltip\n          :target=\"'vote-yes'+proposal.id\"\n        >\n          {{ percent(proposal.tally.yes) }}% voted Yes\n        </b-tooltip>\n        <b-tooltip\n          :target=\"'vote-no'+proposal.id\"\n        >\n          {{ percent(proposal.tally.no) }}% voted No\n        </b-tooltip>\n        <b-tooltip\n          :target=\"'vote-veto'+proposal.id\"\n        >\n          {{ percent(proposal.tally.veto) }}% voted No With Veto\n        </b-tooltip>\n        <b-tooltip\n          :target=\"'vote-abstain'+proposal.id\"\n        >\n          {{ percent(proposal.tally.abstain) }}% voted Abstain\n        </b-tooltip>\n        <b-table\n          v-if=\"votes.votes && votes.votes.length > 0\"\n          stacked=\"sm\"\n          :fields=\"votes_fields\"\n          :items=\"votes.votes\"\n          striped\n        >\n          <template #cell(voter)=\"data\">\n            <router-link :to=\"`../account/${data.item.voter}`\">\n              {{ formatAddress(data.item.voter) }}\n            </router-link>\n          </template>\n        </b-table>\n        <div\n          v-if=\"next\"\n          class=\"addzone text-center pt-50 pb-50 bg-transparent text-primary\"\n          @click=\"loadVotes()\"\n        >\n          <feather-icon icon=\"PlusIcon\" />\n          Load More Votes\n        </div>\n      </b-card-body>\n    </b-card>\n    <b-card\n      v-if=\"proposal.total_deposit\"\n      no-body\n    >\n      <b-card-header>\n        <b-card-title>\n          Deposits ({{ formatToken(proposal.total_deposit) }})\n        </b-card-title>\n      </b-card-header>\n      <b-card-body>\n        <b-table\n          v-if=\"Array.isArray(deposits.deposits || deposits)\"\n          stacked=\"sm\"\n          :items=\"deposits.deposits || deposits\"\n          :fields=\"deposit_fields\"\n          striped\n        >\n          <template #cell(depositor)=\"data\">\n            <router-link :to=\"`../account/${data.item.depositor}`\">\n              {{ formatAddress(data.item.depositor) }}\n            </router-link>\n          </template>\n        </b-table>\n      </b-card-body>\n      <b-card-footer>\n        <router-link :to=\"from\">\n          <b-button\n            variant=\"outline-primary\"\n          >\n            {{ $t('btn_back_list') }}\n          </b-button>\n        </router-link>\n        <b-button\n          v-b-modal.operation-modal\n          :disabled=\"proposal.status!=1\"\n          variant=\"primary\"\n          class=\"btn float-right mg-2\"\n          @click=\"openModal('GovDeposit')\"\n        >\n          {{ $t('btn_deposit') }}\n        </b-button>\n        <b-button\n          v-b-modal.operation-modal\n          :disabled=\"proposal.status!=2\"\n          variant=\"primary\"\n          class=\"btn float-right mg-2 mr-1\"\n          @click=\"openModal('Vote')\"\n        >\n          {{ $t('btn_vote') }}\n        </b-button>\n      </b-card-footer>\n    </b-card>\n    <operation-modal\n      :type=\"operationModalType\"\n      :proposal-id=\"Number(proposal.id)\"\n      :proposal-title=\"proposal.title\"\n    />\n  </section>\n</template>\n\n<script>\nimport {\n  BCard, BCardBody, BCardFooter, BButton, BTable, BTableSimple, BTr, BTd, BCardTitle, BCardHeader,\n  BProgressBar, BProgress, BTooltip, BBadge,\n} from 'bootstrap-vue'\nimport FlipCountdown from 'vue2-flip-countdown'\n// import fetch from 'node-fetch'\n\nimport {\n  getCachedValidators, getStakingValidatorByAccount, percent, tokenFormatter,\n} from '@/libs/utils'\nimport { Proposal, Proposer } from '@/libs/data'\nimport dayjs from 'dayjs'\nimport OperationModal from '@/views/components/OperationModal/index.vue'\nimport ObjectFieldComponent from './ObjectFieldComponent.vue'\n\n// import { formatToken } from '@/libs/data/data'\n\nexport default {\n  components: {\n    BCard,\n    BCardTitle,\n    BCardBody,\n    BCardFooter,\n    BButton,\n    BTable,\n    BTableSimple,\n    BCardHeader,\n    BTr,\n    BTd,\n    BProgressBar,\n    BProgress,\n    BTooltip,\n    BBadge,\n    ObjectFieldComponent,\n    FlipCountdown,\n    OperationModal,\n  },\n  data() {\n    return {\n      latest: {},\n      next: null,\n      proposal: new Proposal(),\n      proposer: new Proposer(),\n      deposits: [],\n      votes: [],\n      operationModalType: '',\n      from: '../gov',\n      votes_fields: [\n        {\n          key: 'voter',\n          sortable: true,\n          formatter: v => this.formatAddress(v),\n        },\n        {\n          key: 'option',\n          sortable: true,\n          formatter: value => {\n            switch (value) {\n              case 1:\n              case 'VOTE_OPTION_YES':\n                return 'Yes'\n              case 2:\n              case 'VOTE_OPTION_ABSTAIN':\n                return 'Abstain'\n              case 3:\n              case 'VOTE_OPTION_NO':\n                return 'No'\n              case 4:\n              case 'VOTE_OPTION_NO_WITH_VETO':\n                return 'No With Veto'\n              default:\n                return value\n            }\n          },\n        },\n      ],\n      deposit_fields: [\n        {\n          key: 'depositor',\n          formatter: v => this.formatAddress(v),\n        },\n        {\n          key: 'amount',\n          sortable: true,\n          formatter: tokenFormatter,\n        },\n      ],\n    }\n  },\n  computed: {\n    upgradeTime() {\n      if (this.proposal.type === 'cosmos-sdk/SoftwareUpgradeProposal') {\n        if (Number(this.proposal?.contents.plan.height || 0) > 0 && this.latest?.block) {\n          const blocks = Number(this.proposal.contents.plan.height) - Number(this.latest.block?.header?.height || 0)\n          if (blocks > 0) {\n            const endtime = dayjs().add(blocks * 6, 'second').format('YYYY-MM-DD HH:mm:ss')\n            return endtime\n          }\n        }\n        return dayjs(this.proposal.contents.plan.time).format('YYYY-MM-DD HH:mm:ss')\n      }\n      return '0001-01-01 00:00:00'\n    },\n  },\n  created() {\n    const pid = this.$route.params.proposalid\n    if (this.$route.query.from) {\n      this.from = this.$route.query.from\n    }\n\n    this.$http.getLatestBlock().then(res => {\n      this.latest = res\n    })\n\n    this.$http.getGovernance(pid).then(p => {\n      if (p.status === 2) {\n        this.$http.getGovernanceTally(pid, 0).then(t => p.updateTally(t))\n      }\n      this.proposal = p\n    })\n\n    if (!getCachedValidators()) {\n      this.$http.getValidatorList()\n    }\n\n    this.$http.getGovernanceProposer(pid).then(res => {\n      this.proposer = res\n    })\n    this.$http.getGovernanceDeposits(pid).then(res => {\n      this.deposits = res\n    }).catch(() => {})\n    this.$http.getGovernanceVotes(pid).then(res => {\n      this.votes = res\n      this.next = res.pagination ? res.pagination.next_key : null\n    })\n  },\n  methods: {\n    percent: v => percent(v),\n    formatDate: v => dayjs(v).format('YYYY-MM-DD HH:mm'),\n    formatToken: v => tokenFormatter(v, {}),\n    loadVotes() {\n      if (this.next) {\n        const pid = this.$route.params.proposalid\n        const { next } = this\n        this.next = null\n        this.$http.getGovernanceVotes(pid, next).then(res => {\n          this.$set(this.votes, 'votes', this.votes.votes.concat(res.votes))\n          this.next = res.pagination ? res.pagination.next_key : null\n        })\n      }\n    },\n    formatAddress(v) {\n      return getStakingValidatorByAccount(this.$http.config.chain_name, v)\n    },\n    openModal(type) {\n      this.operationModalType = type\n    },\n  },\n}\n</script>\n\n<style lang=\"css\">\n.addzone {\n    border: 2px dashed #ced4da;\n    background: #fff;\n    border-radius: 6px;\n    cursor: pointer;\n    box-shadow: none;\n}\n.addzone :hover {\n    border: 2px dashed #7367F0;\n}\n@media (min-width: 768px) {\n  td:first-child { width: 20% ;}\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}