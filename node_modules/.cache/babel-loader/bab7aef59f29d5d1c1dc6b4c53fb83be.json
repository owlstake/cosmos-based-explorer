{"ast":null,"code":"import _asyncToGenerator from \"/root/cosmos-based-explorer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/root/cosmos-based-explorer/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/root/cosmos-based-explorer/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\n\n/*\n * @Description: file\n * @Autor: dingyiming\n * @Date: 2021-11-22 21:20:10\n * @LastEditors: dingyiming\n * @LastEditTime: 2021-11-25 00:45:16\n */\nimport { sha256 } from '@cosmjs/crypto';\nimport { toHex } from '@cosmjs/encoding';\nimport fetch from 'node-fetch';\nimport { formatTokenDenom, getLocalChains } from './utils';\nexport var poolIds = {\n  1: true,\n  2: true,\n  3: true,\n  4: true,\n  5: true,\n  6: true,\n  7: true,\n  8: true,\n  9: true,\n  10: true,\n  13: true,\n  15: true,\n  461: true,\n  482: true,\n  497: true,\n  498: true,\n  548: true // 557: true,\n  // 558: true,\n  // 571: true,\n  // 572: true,\n\n};\nexport var CoinGeckoMap = {\n  ATOM: ['cosmos'],\n  OSMO: ['osmosis'],\n  IRIS: ['iris-network'],\n  AKT: ['akash-network'],\n  LUNA: ['terra-luna'],\n  UST: ['terrausd'],\n  KRT: ['terra-krw'],\n  BAND: ['band-protocol'],\n  CRO: ['crypto-com-chain'],\n  KAVA: ['kava'],\n  OKT: ['okexchain'],\n  CTK: ['certik'],\n  XPRT: ['persistence'],\n  REGEN: ['regen'],\n  SCRT: ['secret'],\n  DVPN: ['sentinel'],\n  ION: ['ion'],\n  ROWAN: ['sifchain'],\n  IOV: ['starname'],\n  BTSG: ['bitsong'],\n  NGM: ['e-money'],\n  EEUR: ['e-money-eur'],\n  LIKE: ['likecoin'],\n  JUNO: ['juno-network'],\n  STGZ: ['stargaze-protocol'],\n  VDL: ['vidulum'],\n  XKI: ['ki'],\n  INJ: ['injective-protocol']\n};\nexport function getChainConfigForSymbol(symbol) {\n  var key = CoinGeckoMap[symbol];\n\n  if (key) {\n    var confs = getLocalChains();\n    return Object.values(confs).find(function (x) {\n      return x.coingecko === key[0];\n    });\n  }\n\n  return null;\n}\nexport function getPairName(pool, denomTrace) {\n  var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'base';\n  var isFormat = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var index = type === 'base' ? 0 : 1;\n\n  if (pool && pool.poolAssets) {\n    var _denomTrace$pool$pool;\n\n    var denom = pool.poolAssets[index].token.denom.startsWith('ibc') ? (_denomTrace$pool$pool = denomTrace[pool.poolAssets[index].token.denom]) === null || _denomTrace$pool$pool === void 0 ? void 0 : _denomTrace$pool$pool.base_denom : pool.poolAssets[index].token.denom;\n    return isFormat ? formatTokenDenom(denom) : denom;\n  }\n\n  return '-';\n}\n\nvar OsmosAPI = /*#__PURE__*/function () {\n  function OsmosAPI() {\n    _classCallCheck(this, OsmosAPI);\n  }\n\n  _createClass(OsmosAPI, [{\n    key: \"preHandler\",\n    value: function preHandler() {\n      this.version = '';\n    }\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(url) {\n        var chains, conf, index;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                chains = getLocalChains();\n                conf = chains.osmosis;\n                index = this.getApiIndex(conf);\n                this.host = Array.isArray(conf.api) ? conf.api[index] : conf.api;\n                return _context.abrupt(\"return\", fetch(\"\".concat(this.host).concat(url)).then(function (res) {\n                  return res.json();\n                }));\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function get(_x) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"getApiIndex\",\n    value: function getApiIndex() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var conf = config || this.config;\n      var index = Number(localStorage.getItem(\"\".concat(conf.chain_name, \"-api-index\")) || 0);\n      return index < conf.api.length ? index : 0;\n    }\n  }, {\n    key: \"getMarketData\",\n    value: function () {\n      var _getMarketData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(from, to) {\n        var days,\n            _args2 = arguments;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                days = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : 14;\n\n                if (!(from && to)) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                this.exe_time = '';\n                return _context2.abrupt(\"return\", Promise.all([fetch(\"https://api.coingecko.com/api/v3/coins/\".concat(from, \"/market_chart?vs_currency=usd&days=\").concat(days)).then(function (res) {\n                  return res.json();\n                }), fetch(\"https://api.coingecko.com/api/v3/coins/\".concat(to, \"/market_chart?vs_currency=usd&days=\").concat(days)).then(function (res) {\n                  return res.json();\n                })]).then(function (data) {\n                  var output = [];\n\n                  if (data.length >= 2) {\n                    data[0].prices.forEach(function (x, i) {\n                      if (data[1].prices[i]) {\n                        output.push([x[0], (x[1] / data[1].prices[i][1]).toFixed(6)]);\n                      }\n                    });\n                  }\n\n                  return {\n                    prices: output\n                  };\n                }));\n\n              case 4:\n                return _context2.abrupt(\"return\", {\n                  prices: []\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getMarketData(_x2, _x3) {\n        return _getMarketData.apply(this, arguments);\n      }\n\n      return getMarketData;\n    }()\n  }, {\n    key: \"getOHCL4Pairs\",\n    value: function () {\n      var _getOHCL4Pairs = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(from, to) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!(from && to)) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                this.exe_time = '';\n                return _context3.abrupt(\"return\", Promise.all([fetch(\"https://api.coingecko.com/api/v3/coins/\".concat(from, \"/ohlc?vs_currency=usd&days=1\")).then(function (res) {\n                  return res.json();\n                }), fetch(\"https://api.coingecko.com/api/v3/coins/\".concat(to, \"/ohlc?vs_currency=usd&days=1\")).then(function (res) {\n                  return res.json();\n                })]).then(function (ohlc) {\n                  var output = [];\n                  ohlc[0].forEach(function (e, i) {\n                    var price = [e[0]];\n\n                    for (var j = 1; j <= 4; j += 1) {\n                      var _ohlc$, _ohlc$$i;\n\n                      price.push(e[j] / (ohlc === null || ohlc === void 0 ? void 0 : (_ohlc$ = ohlc[1]) === null || _ohlc$ === void 0 ? void 0 : (_ohlc$$i = _ohlc$[i]) === null || _ohlc$$i === void 0 ? void 0 : _ohlc$$i[j]));\n                    }\n\n                    output.push(price);\n                  });\n                  var result = [];\n\n                  for (var i = 0; i < output.length; i += 1) {\n                    var itemArr = output[i];\n                    result.push([itemArr[0], itemArr[1], // open\n                    itemArr[2], // high\n                    itemArr[3], // low\n                    itemArr[4], // close\n                    0 // volume\n                    ]);\n                  }\n\n                  return result;\n                }));\n\n              case 3:\n                return _context3.abrupt(\"return\", null);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getOHCL4Pairs(_x4, _x5) {\n        return _getOHCL4Pairs.apply(this, arguments);\n      }\n\n      return getOHCL4Pairs;\n    }() // Custom Module\n\n  }, {\n    key: \"getPools\",\n    value: function () {\n      var _getPools = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var tradeable;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                tradeable = [];\n                Object.keys(poolIds).forEach(function (k) {\n                  if (poolIds[k]) {\n                    tradeable.push(k);\n                  }\n                });\n                return _context4.abrupt(\"return\", this.get('/osmosis/gamm/v1beta1/pools?pagination.limit=700').then(function (res) {\n                  var output = res.pools.filter(function (x) {\n                    return tradeable.includes(x.id);\n                  });\n                  return output;\n                }));\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getPools() {\n        return _getPools.apply(this, arguments);\n      }\n\n      return getPools;\n    }()\n  }, {\n    key: \"getDenomTraces\",\n    value: function () {\n      var _getDenomTraces = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", this.get('/ibc/apps/transfer/v1/denom_traces?pagination.limit=500').then(function (x) {\n                  var combined = {};\n                  x.denom_traces.forEach(function (item) {\n                    var k = 'ibc/'.concat(toHex(sha256(new TextEncoder('utf-8').encode(\"\".concat(item.path, \"/\").concat(item.base_denom)))).toUpperCase());\n                    combined[k] = item;\n                  });\n                  return combined;\n                }));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getDenomTraces() {\n        return _getDenomTraces.apply(this, arguments);\n      }\n\n      return getDenomTraces;\n    }()\n  }, {\n    key: \"getIncentivesPools\",\n    value: function () {\n      var _getIncentivesPools = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", this.get('/osmosis/pool-incentives/v1beta1/incentivized_pools?pagination.limit=700'));\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getIncentivesPools() {\n        return _getIncentivesPools.apply(this, arguments);\n      }\n\n      return getIncentivesPools;\n    }()\n  }]);\n\n  return OsmosAPI;\n}();\n\nexport { OsmosAPI as default };","map":{"version":3,"names":["sha256","toHex","fetch","formatTokenDenom","getLocalChains","poolIds","CoinGeckoMap","ATOM","OSMO","IRIS","AKT","LUNA","UST","KRT","BAND","CRO","KAVA","OKT","CTK","XPRT","REGEN","SCRT","DVPN","ION","ROWAN","IOV","BTSG","NGM","EEUR","LIKE","JUNO","STGZ","VDL","XKI","INJ","getChainConfigForSymbol","symbol","key","confs","Object","values","find","x","coingecko","getPairName","pool","denomTrace","type","isFormat","index","poolAssets","denom","token","startsWith","base_denom","OsmosAPI","version","url","chains","conf","osmosis","getApiIndex","host","Array","isArray","api","then","res","json","config","Number","localStorage","getItem","chain_name","length","from","to","days","exe_time","Promise","all","data","output","prices","forEach","i","push","toFixed","ohlc","e","price","j","result","itemArr","tradeable","keys","k","get","pools","filter","includes","id","combined","denom_traces","item","concat","TextEncoder","encode","path","toUpperCase"],"sources":["/root/cosmos-based-explorer/src/libs/osmos.js"],"sourcesContent":["/*\n * @Description: file\n * @Autor: dingyiming\n * @Date: 2021-11-22 21:20:10\n * @LastEditors: dingyiming\n * @LastEditTime: 2021-11-25 00:45:16\n */\nimport { sha256 } from '@cosmjs/crypto'\nimport { toHex } from '@cosmjs/encoding'\nimport fetch from 'node-fetch'\nimport { formatTokenDenom, getLocalChains } from './utils'\n\nexport const poolIds = {\n  1: true,\n  2: true,\n  3: true,\n  4: true,\n  5: true,\n  6: true,\n  7: true,\n  8: true,\n  9: true,\n  10: true,\n  13: true,\n  15: true,\n  461: true,\n  482: true,\n  497: true,\n  498: true,\n  548: true,\n  // 557: true,\n  // 558: true,\n  // 571: true,\n  // 572: true,\n}\n\nexport const CoinGeckoMap = {\n  ATOM: ['cosmos'],\n  OSMO: ['osmosis'],\n  IRIS: ['iris-network'],\n  AKT: ['akash-network'],\n  LUNA: ['terra-luna'],\n  UST: ['terrausd'],\n  KRT: ['terra-krw'],\n  BAND: ['band-protocol'],\n  CRO: ['crypto-com-chain'],\n  KAVA: ['kava'],\n  OKT: ['okexchain'],\n  CTK: ['certik'],\n  XPRT: ['persistence'],\n  REGEN: ['regen'],\n  SCRT: ['secret'],\n  DVPN: ['sentinel'],\n  ION: ['ion'],\n  ROWAN: ['sifchain'],\n  IOV: ['starname'],\n  BTSG: ['bitsong'],\n  NGM: ['e-money'],\n  EEUR: ['e-money-eur'],\n  LIKE: ['likecoin'],\n  JUNO: ['juno-network'],\n  STGZ: ['stargaze-protocol'],\n  VDL: ['vidulum'],\n  XKI: ['ki'],\n  INJ: ['injective-protocol'],\n}\n\nexport function getChainConfigForSymbol(symbol) {\n  const key = CoinGeckoMap[symbol]\n  if (key) {\n    const confs = getLocalChains()\n    return Object.values(confs).find(x => x.coingecko === key[0])\n  }\n  return null\n}\n\nexport function getPairName(pool, denomTrace, type = 'base', isFormat = true) {\n  const index = type === 'base' ? 0 : 1\n  if (pool && pool.poolAssets) {\n    const denom = pool.poolAssets[index].token.denom.startsWith('ibc')\n      ? denomTrace[pool.poolAssets[index].token.denom]?.base_denom : pool.poolAssets[index].token.denom\n    return isFormat ? formatTokenDenom(denom) : denom\n  }\n  return '-'\n}\n\nexport default class OsmosAPI {\n  preHandler() {\n    this.version = ''\n  }\n\n  async get(url) {\n    const chains = getLocalChains()\n    const conf = chains.osmosis\n    const index = this.getApiIndex(conf)\n    this.host = Array.isArray(conf.api) ? conf.api[index] : conf.api\n    return fetch(`${this.host}${url}`).then(res => res.json())\n  }\n\n  getApiIndex(config = null) {\n    const conf = config || this.config\n    const index = Number(localStorage.getItem(`${conf.chain_name}-api-index`) || 0)\n    return index < conf.api.length ? index : 0\n  }\n\n  async getMarketData(from, to, days = 14) {\n    if (from && to) {\n      this.exe_time = ''\n      return Promise.all(\n        [fetch(`https://api.coingecko.com/api/v3/coins/${from}/market_chart?vs_currency=usd&days=${days}`).then(res => res.json()),\n          fetch(`https://api.coingecko.com/api/v3/coins/${to}/market_chart?vs_currency=usd&days=${days}`).then(res => res.json())],\n      ).then(data => {\n        const output = []\n        if (data.length >= 2) {\n          data[0].prices.forEach((x, i) => {\n            if (data[1].prices[i]) {\n              output.push([x[0], (x[1] / data[1].prices[i][1]).toFixed(6)])\n            }\n          })\n        }\n        return { prices: output }\n      })\n    }\n    return { prices: [] }\n  }\n\n  async getOHCL4Pairs(from, to) {\n    if (from && to) {\n      this.exe_time = ''\n      return Promise.all(\n        [fetch(`https://api.coingecko.com/api/v3/coins/${from}/ohlc?vs_currency=usd&days=1`).then(res => res.json()),\n          fetch(`https://api.coingecko.com/api/v3/coins/${to}/ohlc?vs_currency=usd&days=1`).then(res => res.json())],\n      ).then(ohlc => {\n        const output = []\n        ohlc[0].forEach((e, i) => {\n          const price = [e[0]]\n          for (let j = 1; j <= 4; j += 1) {\n            price.push(e[j] / ohlc?.[1]?.[i]?.[j])\n          }\n          output.push(price)\n        })\n        const result = []\n        for (let i = 0; i < output.length; i += 1) {\n          const itemArr = output[i]\n          result.push([\n            itemArr[0],\n            itemArr[1], // open\n            itemArr[2], // high\n            itemArr[3], // low\n            itemArr[4], // close\n            0, // volume\n          ])\n        }\n        return result\n      })\n    }\n    return null\n  }\n\n  // Custom Module\n  async getPools() {\n    const tradeable = []\n    Object.keys(poolIds).forEach(k => {\n      if (poolIds[k]) {\n        tradeable.push(k)\n      }\n    })\n    return this.get('/osmosis/gamm/v1beta1/pools?pagination.limit=700').then(res => {\n      const output = res.pools.filter(x => tradeable.includes(x.id))\n      return output\n    })\n  }\n\n  async getDenomTraces() {\n    return this.get('/ibc/apps/transfer/v1/denom_traces?pagination.limit=500').then(x => {\n      const combined = {}\n      x.denom_traces.forEach(item => {\n        const k = 'ibc/'.concat(toHex(sha256(new TextEncoder('utf-8').encode(`${item.path}/${item.base_denom}`))).toUpperCase())\n        combined[k] = item\n      })\n      return combined\n    })\n  }\n\n  async getIncentivesPools() {\n    return this.get('/osmosis/pool-incentives/v1beta1/incentivized_pools?pagination.limit=700')\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}