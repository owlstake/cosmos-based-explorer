{"ast":null,"code":"import _createClass from \"/root/cosmos-based-explorer/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/root/cosmos-based-explorer/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _typeof from \"/root/cosmos-based-explorer/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _asyncToGenerator from \"/root/cosmos-based-explorer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport { Bech32, fromBase64, fromBech32, fromHex, toBech32, toHex } from '@cosmjs/encoding';\nimport { sha256, stringToPath } from '@cosmjs/crypto'; // ledger\n\nimport TransportWebBLE from '@ledgerhq/hw-transport-web-ble';\nimport TransportWebUSB from '@ledgerhq/hw-transport-webusb';\nimport CosmosApp from 'ledger-cosmos-js';\nimport { LedgerSigner } from '@cosmjs/ledger-amino';\nimport { ethToEvmos } from '@tharsis/address-converter';\nimport dayjs from 'dayjs';\nimport duration from 'dayjs/plugin/duration';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport utc from 'dayjs/plugin/utc';\nimport RIPEMD160 from 'ripemd160';\nimport localeData from 'dayjs/plugin/localeData';\nimport { $themeColors } from '@themeConfig'; // import { SigningStargateClient } from '@cosmjs/stargate'\n// import PingWalletClient from './data/signing'\n\nimport { SigningStargateClient } from '@cosmjs/stargate';\nimport { getSigningClient } from './client/PingWalletClient.ts';\nimport { EthereumLedgerSigner } from './client/EthereumLedgerSigner.ts';\ndayjs.extend(localeData);\ndayjs.extend(duration);\ndayjs.extend(relativeTime);\ndayjs.extend(utc);\nexport function getLocalObject(name) {\n  var text = localStorage.getItem(name);\n\n  if (text) {\n    return JSON.parse(text);\n  }\n\n  return null;\n}\nexport function getLocalChains() {\n  return getLocalObject('chains');\n}\nexport function getLocalAccounts() {\n  return getLocalObject('accounts');\n}\nexport function getLocalTxHistory() {\n  return getLocalObject('txHistory');\n}\nexport function setLocalTxHistory(tx) {\n  var newTx = tx;\n  var txs = getLocalTxHistory();\n\n  if (txs) {\n    txs.push(newTx);\n    return localStorage.setItem('txHistory', JSON.stringify(txs));\n  }\n\n  return localStorage.setItem('txHistory', JSON.stringify([newTx]));\n}\nexport function connectLedger() {\n  return _connectLedger.apply(this, arguments);\n}\n\nfunction _connectLedger() {\n  _connectLedger = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var transport,\n        trans,\n        _args = arguments;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            transport = _args.length > 0 && _args[0] !== undefined ? _args[0] : 'usb';\n            _context.next = 3;\n            return transport;\n\n          case 3:\n            _context.t0 = _context.sent;\n\n            if (!(_context.t0 === 'usb')) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.t1 = TransportWebUSB.create();\n            _context.next = 9;\n            break;\n\n          case 8:\n            _context.t1 = TransportWebBLE.create();\n\n          case 9:\n            trans = _context.t1;\n            return _context.abrupt(\"return\", new CosmosApp(trans));\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _connectLedger.apply(this, arguments);\n}\n\nexport function operatorAddressToAccount(operAddress) {\n  var _Bech32$decode = Bech32.decode(operAddress),\n      prefix = _Bech32$decode.prefix,\n      data = _Bech32$decode.data;\n\n  if (prefix === 'iva') {\n    // handle special cases\n    return Bech32.encode('iaa', data);\n  }\n\n  if (prefix === 'crocncl') {\n    // handle special cases\n    return Bech32.encode('cro', data);\n  }\n\n  return Bech32.encode(prefix.replace('valoper', ''), data);\n} // TODO, not tested\n\nexport function pubkeyToAccountAddress(pubkey, prefix) {\n  return Bech32.encode(prefix, pubkey, 40);\n}\nexport function toETHAddress(cosmosAddress) {\n  return \"0x\".concat(toHex(fromBech32(cosmosAddress).data));\n}\nexport function addressDecode(address) {\n  if (address.startsWith('0x')) {\n    return fromBech32(ethToEvmos(address));\n  }\n\n  return fromBech32(address);\n}\nexport function addressEnCode(prefix, pubkey) {\n  return toBech32(prefix, pubkey);\n}\nexport function getUserCurrency() {\n  var currency = localStorage.getItem('currency');\n  return currency || 'usd';\n}\nexport function setUserCurrency(currency) {\n  localStorage.setItem('currency', currency);\n}\nexport function chartColors() {\n  var colors = ['#8A2BE2', '#9ACD32', '#000080', '#008080', '#DC143C', '#7FFFD4', '#B8860B', '#EEE8AA', '#FFFAFA', '#FDF5E6', '#C0C0C0', '#E6E6FA', '#FFFAF0', '#2E8B57', '#DCDCDC', '#FF1493', '#4682B4', '#191970', '#FF8C00', '#FFFFE0', '#696969', '#FFFACD', '#DEB887', '#4169E1', '#9932CC', '#B0C4DE', '#556B2F', '#FFE4E1', '#F5FFFA', '#8FBC8F', '#B22222', '#90EE90', '#FFFF00', '#4B0082', '#DB7093', '#F8F8FF', '#006400', '#6610f2', '#FFA500', '#7FFF00', '#87CEFA', '#5F9EA0', '#483D8B', '#CD5C5C', '#ADFF2F', '#2F4F4F', '#00FF7F', '#FFF5EE', '#F4A460', '#808000', '#000000', '#00FA9A', '#000000', '#EE82EE', '#F5DEB3', '#0000FF', '#BA55D3', '#FFF0F5', '#F5F5DC', '#0000CD', '#FFD700', '#708090', '#6B8E23', '#800000', '#7B68EE', '#FFA07A', '#800080', '#B0E0E6', '#00FFFF', '#00BFFF', '#7CFC00', '#778899', '#FF7F50', '#E0FFFF', '#6495ED', '#008B8B', '#DDA0DD', '#CD853F', '#FFFFF0', '#98FB98', '#9400D3', '#D2691E', '#FF0000', '#008000', '#00008B', '#C71585', '#FFB6C1', '#8B4513', '#20c997', '#FAEBD7', '#E9967A', '#FFEFD5', '#FFE4C4', '#D8BFD8', '#A52A2A', '#8B0000', '#32CD32', '#BDB76B', '#FF0000', '#DAA520', '#800000', '#9370DB', '#F08080', '#FAF0E6', '#FF6347', '#FF4500', '#FFFF00', '#808080', '#00CED1', '#FFC0CB', '#FF00FF', '#F0FFFF', '#A9A9A9', '#F0E68C', '#1E90FF', '#FFDAB9', '#228B22', '#F0FFF0', '#66CDAA', '#ADD8E6', '#DA70D6', '#A0522D', '#FFE4B5', '#48D1CC', '#D2B48C', '#FFEBCD', '#8B008B', '#3CB371', '#87CEEB', '#6A5ACD', '#FFDEAD', '#FF69B4', '#BC8F8F', '#D3D3D3', '#00FF00', '#FAFAD2', '#AFEEEE', '#40E0D0', '#FFF8DC', '#20B2AA', '#00FFFF', '#FA8072', '#F0F8FF'];\n  return Object.values($themeColors).concat(colors);\n}\nexport function extractAccountNumberAndSequence(ret) {\n  var _account;\n\n  var account = ret.value;\n\n  if (ret.value && ret.value.base_vesting_account) {\n    var _ret$value$base_vesti;\n\n    // vesting account\n    account = (_ret$value$base_vesti = ret.value.base_vesting_account) === null || _ret$value$base_vesti === void 0 ? void 0 : _ret$value$base_vesti.base_account;\n  } else if (ret.value && ret.value.base_account) {\n    // evmos based account\n    account = ret.value.base_account;\n  }\n\n  var accountNumber = account.account_number;\n  var sequence = ((_account = account) === null || _account === void 0 ? void 0 : _account.sequence) || 0;\n  return {\n    accountNumber: accountNumber,\n    sequence: sequence\n  };\n}\nexport function getUserCurrencySign() {\n  var s = '';\n\n  switch (getUserCurrency()) {\n    case 'cny':\n    case 'jpy':\n      s = '¥';\n      break;\n\n    case 'krw':\n      s = '₩';\n      break;\n\n    case 'eur':\n      s = '€';\n      break;\n\n    default:\n      s = '$';\n  }\n\n  return s;\n}\nexport function consensusPubkeyToHexAddress(consensusPubkey) {\n  var raw = null;\n\n  if (_typeof(consensusPubkey) === 'object') {\n    if (consensusPubkey.type === 'tendermint/PubKeySecp256k1') {\n      raw = new RIPEMD160().update(Buffer.from(sha256(fromBase64(consensusPubkey.value)))).digest('hex').toUpperCase();\n      return raw;\n    }\n\n    raw = sha256(fromBase64(consensusPubkey.value));\n  } else {\n    raw = sha256(fromHex(toHex(fromBech32(consensusPubkey).data).toUpperCase().replace('1624DE6420', '')));\n  }\n\n  var address = toHex(raw).slice(0, 40).toUpperCase();\n  return address;\n}\n\nfunction toSignAddress(addr) {\n  var _addressDecode = addressDecode(addr),\n      data = _addressDecode.data;\n\n  return addressEnCode('cosmos', data);\n}\n\nfunction getHdPath(address) {\n  var hdPath = \"m/44'/118/0'/0/0\";\n  Object.values(getLocalAccounts()).forEach(function (item) {\n    var curr = item.address.find(function (i) {\n      return i.addr === address;\n    });\n\n    if (curr && curr.hdpath) {\n      hdPath = curr.hdpath;\n    }\n  }); //  m/0'/1/2'/2/1000000000\n\n  return stringToPath(hdPath);\n}\n\nfunction getLedgerAppName(_x, _x2, _x3) {\n  return _getLedgerAppName.apply(this, arguments);\n}\n\nfunction _getLedgerAppName() {\n  _getLedgerAppName = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(coinType, device, hdpath) {\n    var ledgerAppName, transport;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            ledgerAppName = 'Cosmos';\n            _context2.t0 = coinType;\n            _context2.next = _context2.t0 === 60 ? 4 : _context2.t0 === 529 ? 5 : _context2.t0 === 852 ? 7 : _context2.t0 === 330 ? 9 : _context2.t0 === 118 ? 11 : 11;\n            break;\n\n          case 4:\n            return _context2.abrupt(\"return\", EthereumLedgerSigner.create(device, hdpath));\n\n          case 5:\n            ledgerAppName = 'Secret'; // 'Secret'\n\n            return _context2.abrupt(\"break\", 11);\n\n          case 7:\n            ledgerAppName = 'Desmos'; // 'Desmos'\n\n            return _context2.abrupt(\"break\", 11);\n\n          case 9:\n            ledgerAppName = 'Terra'; // 'Terra'\n\n            return _context2.abrupt(\"break\", 11);\n\n          case 11:\n            _context2.next = 13;\n            return device === 'ledgerBle' ? TransportWebBLE.create() : TransportWebUSB.create();\n\n          case 13:\n            transport = _context2.sent;\n            return _context2.abrupt(\"return\", new LedgerSigner(transport, {\n              hdPaths: [hdpath],\n              ledgerAppName: ledgerAppName\n            }));\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getLedgerAppName.apply(this, arguments);\n}\n\nexport function sign(_x4, _x5, _x6, _x7, _x8, _x9, _x10) {\n  return _sign.apply(this, arguments);\n}\n\nfunction _sign() {\n  _sign = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(device, chainId, signerAddress, messages, fee, memo, signerData) {\n    var hdpath, client, signer, coinType, addr;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            hdpath = getHdPath(signerAddress);\n\n            if (!device.startsWith('ledger')) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.next = 4;\n            return getSigningClient(device, hdpath);\n\n          case 4:\n            client = _context3.sent;\n            _context3.next = 15;\n            break;\n\n          case 7:\n            if (!(!window.getOfflineSigner || !window.keplr)) {\n              _context3.next = 9;\n              break;\n            }\n\n            throw new Error('Please install keplr extension');\n\n          case 9:\n            _context3.next = 11;\n            return window.keplr.enable(chainId);\n\n          case 11:\n            signer = window.getOfflineSignerOnlyAmino(chainId);\n            _context3.next = 14;\n            return SigningStargateClient.offline(signer);\n\n          case 14:\n            client = _context3.sent;\n\n          case 15:\n            // let transport\n            // let signer\n            // const hdpath = getHdPath(signerAddress)\n            coinType = Number(hdpath[1]);\n            addr = device.startsWith('ledger') && coinType === 118 ? toSignAddress(signerAddress) : signerAddress;\n            return _context3.abrupt(\"return\", client.sign(addr, messages, fee, memo, signerData));\n\n          case 18:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _sign.apply(this, arguments);\n}\n\nexport function getLedgerAddress() {\n  return _getLedgerAddress.apply(this, arguments);\n}\n\nfunction _getLedgerAddress() {\n  _getLedgerAddress = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var transport,\n        hdPath,\n        protocol,\n        coinType,\n        signer,\n        _args4 = arguments;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            transport = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : 'blu';\n            hdPath = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : \"m/44'/118/0'/0/0\";\n\n            if (!(transport === 'usb')) {\n              _context4.next = 8;\n              break;\n            }\n\n            _context4.next = 5;\n            return TransportWebUSB.create();\n\n          case 5:\n            _context4.t0 = _context4.sent;\n            _context4.next = 11;\n            break;\n\n          case 8:\n            _context4.next = 10;\n            return TransportWebBLE.create();\n\n          case 10:\n            _context4.t0 = _context4.sent;\n\n          case 11:\n            protocol = _context4.t0;\n            // extract Cointype from from HDPath\n            coinType = Number(stringToPath(hdPath)[1]);\n            _context4.next = 15;\n            return getLedgerAppName(coinType, protocol, stringToPath(hdPath));\n\n          case 15:\n            signer = _context4.sent;\n            return _context4.abrupt(\"return\", signer.getAccounts());\n\n          case 17:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _getLedgerAddress.apply(this, arguments);\n}\n\nexport function toDuration(value) {\n  return dayjs.duration(value).humanize();\n} // unit(y M d h m s ms)\n\nexport function timeIn(time, amount) {\n  var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 's';\n  var input = dayjs(time).add(amount, unit);\n  return dayjs().unix() > input.unix();\n}\nexport function toDay(time) {\n  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'long';\n\n  if (format === 'long') {\n    return dayjs(time).format('YYYY-MM-DD HH:mm');\n  }\n\n  if (format === 'date') {\n    return dayjs(time).format('YYYY-MM-DD');\n  }\n\n  if (format === 'time') {\n    return dayjs(time).format('HH:mm:ss');\n  }\n\n  if (format === 'from') {\n    return dayjs(time).fromNow();\n  }\n\n  if (format === 'to') {\n    return dayjs(time).toNow();\n  }\n\n  return dayjs(time).format('YYYY-MM-DD HH:mm:ss');\n}\nexport function percent(num) {\n  return parseFloat((num * 100).toFixed(2));\n}\nexport function abbr(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n  var suffix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '...';\n\n  if (string && string.length > length) {\n    return \"\".concat(string.substring(0, length)).concat(suffix);\n  }\n\n  return string;\n}\nexport function abbrRight(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n  var suffix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '...';\n\n  if (string && string.length > length) {\n    return \"\".concat(string.substring(string.length - length)).concat(suffix);\n  }\n\n  return string;\n}\nexport function abbrMessage(msg) {\n  if (Array.isArray(msg)) {\n    var sum = msg.map(function (x) {\n      return abbrMessage(x);\n    }).reduce(function (s, c) {\n      var sh = s;\n\n      if (sh[c]) {\n        sh[c] += 1;\n      } else {\n        sh[c] = 1;\n      }\n\n      return sh;\n    }, {});\n    var output = [];\n    Object.keys(sum).forEach(function (k) {\n      output.push(sum[k] > 1 ? \"\".concat(k, \"\\xD7\").concat(sum[k]) : k);\n    });\n    return output.join(', ');\n  }\n\n  if (msg['@type']) {\n    return msg['@type'].substring(msg['@type'].lastIndexOf('.') + 1).replace('Msg', '');\n  }\n\n  if (msg.typeUrl) {\n    return msg.typeUrl.substring(msg.typeUrl.lastIndexOf('.') + 1).replace('Msg', '');\n  }\n\n  return msg.type.substring(msg.type.lastIndexOf('/') + 1).replace('Msg', '');\n}\nexport function abbrAddress(address) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n  return address.substring(0, length).concat('...', address.substring(address.length - length));\n}\nexport function isStringArray(value) {\n  var is = false;\n\n  if (Array.isArray(value)) {\n    is = value.findIndex(function (x) {\n      return typeof x === 'string';\n    }) > -1;\n  }\n\n  return is;\n}\nexport function isToken(value) {\n  var is = false;\n\n  if (Array.isArray(value)) {\n    is = value.findIndex(function (x) {\n      return Object.keys(x).includes('denom');\n    }) > -1;\n  } else {\n    is = Object.keys(value).includes('denom');\n  }\n\n  return is;\n}\nexport function formatTokenDenom(tokenDenom) {\n  if (tokenDenom && tokenDenom.code === undefined) {\n    var denom = tokenDenom.denom_trace ? tokenDenom.denom_trace.base_denom : tokenDenom;\n    var config = Object.values(getLocalChains());\n    config.forEach(function (x) {\n      if (x.assets) {\n        var asset = x.assets.find(function (a) {\n          return a.base === denom;\n        });\n        if (asset) denom = asset.symbol;\n      }\n    });\n    return denom.length > 10 ? \"\".concat(denom.substring(0, 7).toUpperCase(), \"..\").concat(denom.substring(denom.length - 3)) : denom.toUpperCase();\n  }\n\n  return '';\n}\nexport function getUnitAmount(amount, tokenDenom) {\n  var denom = tokenDenom.denom_trace ? tokenDenom.denom_trace.base_denom : tokenDenom;\n  var exp = String(denom).startsWith('gravity') ? 18 : 6;\n  var config = Object.values(getLocalChains());\n  config.forEach(function (x) {\n    if (x.assets) {\n      var asset = x.assets.find(function (a) {\n        return a.base === denom;\n      });\n      if (asset) exp = asset.exponent;\n    }\n  }); // eslint-disable-next-line no-undef\n\n  return String(BigInt(Number(amount) * Math.pow(10, exp)));\n}\nexport function numberWithCommas(x) {\n  var parts = x.toString().split('.');\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  return parts.join('.');\n}\nexport function formatTokenAmount(tokenAmount) {\n  var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var tokenDenom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'uatom';\n  var format = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var denom = tokenDenom.denom_trace ? tokenDenom.denom_trace.base_denom : tokenDenom;\n  var amount = 0;\n  var exp = String(denom).startsWith('gravity') ? 18 : 6;\n  var config = Object.values(getLocalChains());\n  config.forEach(function (x) {\n    if (x.assets) {\n      var asset = x.assets.find(function (a) {\n        return a.base === denom;\n      });\n      if (asset) exp = asset.exponent;\n    }\n  });\n  amount = Number(Number(tokenAmount)) / Math.pow(10, exp);\n\n  if (amount > 10) {\n    if (format) {\n      return numberWithCommas(parseFloat(amount.toFixed(decimals)));\n    }\n\n    return parseFloat(amount.toFixed(decimals));\n  }\n\n  return parseFloat(amount.toFixed(exp));\n}\nexport function isTestnet() {\n  return window.location.hostname.startsWith('testnet') || window.location.search.indexOf('testnet') > -1;\n}\nexport function formatToken(token) {\n  var IBCDenom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var decimals = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2;\n  var withDenom = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  if (token) {\n    var denom = IBCDenom[token.denom] || token.denom;\n\n    if (withDenom) {\n      return \"\".concat(formatTokenAmount(token.amount, decimals, denom), \" \").concat(formatTokenDenom(denom));\n    }\n\n    return formatTokenAmount(token.amount, decimals, denom);\n  }\n\n  return token;\n}\nvar COUNT_ABBRS = ['', 'K', 'M', 'B', 't', 'q', 's', 'S', 'o', 'n', 'd', 'U', 'D', 'T', 'Qt', 'Qd', 'Sd', 'St'];\nexport function formatNumber(count) {\n  var withAbbr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var decimals = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2;\n  var i = count === 0 ? count : Math.floor(Math.log(count) / Math.log(1000));\n  var result = parseFloat((count / Math.pow(1000, i)).toFixed(decimals));\n\n  if (withAbbr && COUNT_ABBRS[i]) {\n    result += \"\".concat(COUNT_ABBRS[i]);\n  }\n\n  return result;\n}\nexport function tokenFormatter(tokens) {\n  var denoms = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (Array.isArray(tokens)) {\n    return tokens.map(function (t) {\n      return formatToken(t, denoms, 2);\n    }).join(', ');\n  }\n\n  return formatToken(tokens, denoms, 2);\n}\nexport function getCachedValidators(chainName) {\n  var locals = localStorage.getItem(\"validators-\".concat(chainName));\n  return locals;\n}\nexport function isHexAddress(v) {\n  var re = /^[A-Z\\d]{40}$/;\n  return re.test(v);\n}\nexport function getStakingValidatorByHex(chainName, hex) {\n  var locals = localStorage.getItem(\"validators-\".concat(chainName));\n\n  if (locals) {\n    var val = JSON.parse(locals).find(function (x) {\n      return consensusPubkeyToHexAddress(x.consensus_pubkey) === hex;\n    });\n\n    if (val) {\n      return val.description.moniker;\n    }\n  }\n\n  return abbr(hex);\n}\nexport function getStakingValidatorByAccount(chainName, addr) {\n  var locals = localStorage.getItem(\"validators-\".concat(chainName));\n\n  if (locals) {\n    var val = JSON.parse(locals).find(function (x) {\n      return operatorAddressToAccount(x.operator_address) === addr;\n    });\n\n    if (val) {\n      return val.description.moniker;\n    }\n  }\n\n  return addr;\n}\nexport function getStakingValidatorOperator(chainName, addr) {\n  var length = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n  var locals = localStorage.getItem(\"validators-\".concat(chainName));\n\n  if (locals) {\n    var val = JSON.parse(locals).find(function (x) {\n      return x.operator_address === addr;\n    });\n\n    if (val) {\n      return val.description.moniker;\n    }\n  }\n\n  if (length > 0) {\n    return addr.substring(addr.length - length);\n  }\n\n  return addr;\n}\nexport * from 'compare-versions';\nexport * from './data';\nexport var Data = /*#__PURE__*/_createClass(function Data() {\n  _classCallCheck(this, Data);\n});","map":{"version":3,"names":["Bech32","fromBase64","fromBech32","fromHex","toBech32","toHex","sha256","stringToPath","TransportWebBLE","TransportWebUSB","CosmosApp","LedgerSigner","ethToEvmos","dayjs","duration","relativeTime","utc","RIPEMD160","localeData","$themeColors","SigningStargateClient","getSigningClient","EthereumLedgerSigner","extend","getLocalObject","name","text","localStorage","getItem","JSON","parse","getLocalChains","getLocalAccounts","getLocalTxHistory","setLocalTxHistory","tx","newTx","txs","push","setItem","stringify","connectLedger","transport","create","trans","operatorAddressToAccount","operAddress","decode","prefix","data","encode","replace","pubkeyToAccountAddress","pubkey","toETHAddress","cosmosAddress","addressDecode","address","startsWith","addressEnCode","getUserCurrency","currency","setUserCurrency","chartColors","colors","Object","values","concat","extractAccountNumberAndSequence","ret","account","value","base_vesting_account","base_account","accountNumber","account_number","sequence","getUserCurrencySign","s","consensusPubkeyToHexAddress","consensusPubkey","raw","type","update","Buffer","from","digest","toUpperCase","slice","toSignAddress","addr","getHdPath","hdPath","forEach","item","curr","find","i","hdpath","getLedgerAppName","coinType","device","ledgerAppName","hdPaths","sign","chainId","signerAddress","messages","fee","memo","signerData","client","window","getOfflineSigner","keplr","Error","enable","signer","getOfflineSignerOnlyAmino","offline","Number","getLedgerAddress","protocol","getAccounts","toDuration","humanize","timeIn","time","amount","unit","input","add","unix","toDay","format","fromNow","toNow","percent","num","parseFloat","toFixed","abbr","string","length","suffix","substring","abbrRight","abbrMessage","msg","Array","isArray","sum","map","x","reduce","c","sh","output","keys","k","join","lastIndexOf","typeUrl","abbrAddress","isStringArray","is","findIndex","isToken","includes","formatTokenDenom","tokenDenom","code","undefined","denom","denom_trace","base_denom","config","assets","asset","a","base","symbol","getUnitAmount","exp","String","exponent","BigInt","numberWithCommas","parts","toString","split","formatTokenAmount","tokenAmount","decimals","isTestnet","location","hostname","search","indexOf","formatToken","token","IBCDenom","withDenom","COUNT_ABBRS","formatNumber","count","withAbbr","Math","floor","log","result","tokenFormatter","tokens","denoms","t","getCachedValidators","chainName","locals","isHexAddress","v","re","test","getStakingValidatorByHex","hex","val","consensus_pubkey","description","moniker","getStakingValidatorByAccount","operator_address","getStakingValidatorOperator","Data"],"sources":["/root/cosmos-based-explorer/src/libs/utils.js"],"sourcesContent":["import {\n  Bech32, fromBase64, fromBech32, fromHex, toBech32, toHex,\n} from '@cosmjs/encoding'\nimport { sha256, stringToPath } from '@cosmjs/crypto'\n// ledger\nimport TransportWebBLE from '@ledgerhq/hw-transport-web-ble'\nimport TransportWebUSB from '@ledgerhq/hw-transport-webusb'\nimport CosmosApp from 'ledger-cosmos-js'\nimport { LedgerSigner } from '@cosmjs/ledger-amino'\nimport { ethToEvmos } from '@tharsis/address-converter'\n\nimport dayjs from 'dayjs'\nimport duration from 'dayjs/plugin/duration'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport utc from 'dayjs/plugin/utc'\nimport RIPEMD160 from 'ripemd160'\nimport localeData from 'dayjs/plugin/localeData'\nimport { $themeColors } from '@themeConfig'\n// import { SigningStargateClient } from '@cosmjs/stargate'\n// import PingWalletClient from './data/signing'\nimport { SigningStargateClient } from '@cosmjs/stargate'\nimport { getSigningClient } from './client/PingWalletClient.ts'\nimport { EthereumLedgerSigner } from './client/EthereumLedgerSigner.ts'\n\ndayjs.extend(localeData)\ndayjs.extend(duration)\ndayjs.extend(relativeTime)\ndayjs.extend(utc)\n\nexport function getLocalObject(name) {\n  const text = localStorage.getItem(name)\n  if (text) {\n    return JSON.parse(text)\n  }\n  return null\n}\n\nexport function getLocalChains() {\n  return getLocalObject('chains')\n}\n\nexport function getLocalAccounts() {\n  return getLocalObject('accounts')\n}\n\nexport function getLocalTxHistory() {\n  return getLocalObject('txHistory')\n}\n\nexport function setLocalTxHistory(tx) {\n  const newTx = tx\n  const txs = getLocalTxHistory()\n  if (txs) {\n    txs.push(newTx)\n    return localStorage.setItem('txHistory', JSON.stringify(txs))\n  }\n  return localStorage.setItem('txHistory', JSON.stringify([newTx]))\n}\n\nexport async function connectLedger(transport = 'usb') {\n  const trans = await transport === 'usb' ? TransportWebUSB.create() : TransportWebBLE.create()\n  return new CosmosApp(trans)\n}\n\nexport function operatorAddressToAccount(operAddress) {\n  const { prefix, data } = Bech32.decode(operAddress)\n  if (prefix === 'iva') { // handle special cases\n    return Bech32.encode('iaa', data)\n  }\n  if (prefix === 'crocncl') { // handle special cases\n    return Bech32.encode('cro', data)\n  }\n  return Bech32.encode(prefix.replace('valoper', ''), data)\n}\n\n// TODO, not tested\nexport function pubkeyToAccountAddress(pubkey, prefix) {\n  return Bech32.encode(prefix, pubkey, 40)\n}\n\nexport function toETHAddress(cosmosAddress) {\n  return `0x${toHex(fromBech32(cosmosAddress).data)}`\n}\n\nexport function addressDecode(address) {\n  if (address.startsWith('0x')) {\n    return fromBech32(ethToEvmos(address))\n  }\n  return fromBech32(address)\n}\n\nexport function addressEnCode(prefix, pubkey) {\n  return toBech32(prefix, pubkey)\n}\n\nexport function getUserCurrency() {\n  const currency = localStorage.getItem('currency')\n  return currency || 'usd'\n}\n\nexport function setUserCurrency(currency) {\n  localStorage.setItem('currency', currency)\n}\n\nexport function chartColors() {\n  const colors = [\n    '#8A2BE2', '#9ACD32', '#000080', '#008080', '#DC143C',\n    '#7FFFD4', '#B8860B', '#EEE8AA', '#FFFAFA', '#FDF5E6',\n    '#C0C0C0', '#E6E6FA', '#FFFAF0', '#2E8B57', '#DCDCDC',\n    '#FF1493', '#4682B4', '#191970', '#FF8C00', '#FFFFE0',\n    '#696969', '#FFFACD', '#DEB887', '#4169E1', '#9932CC',\n    '#B0C4DE', '#556B2F', '#FFE4E1', '#F5FFFA', '#8FBC8F',\n    '#B22222', '#90EE90', '#FFFF00', '#4B0082', '#DB7093',\n    '#F8F8FF', '#006400', '#6610f2', '#FFA500', '#7FFF00',\n    '#87CEFA', '#5F9EA0', '#483D8B', '#CD5C5C', '#ADFF2F',\n    '#2F4F4F', '#00FF7F', '#FFF5EE', '#F4A460', '#808000',\n    '#000000', '#00FA9A', '#000000', '#EE82EE', '#F5DEB3',\n    '#0000FF', '#BA55D3', '#FFF0F5', '#F5F5DC', '#0000CD',\n    '#FFD700', '#708090', '#6B8E23', '#800000', '#7B68EE',\n    '#FFA07A', '#800080', '#B0E0E6', '#00FFFF', '#00BFFF',\n    '#7CFC00', '#778899', '#FF7F50', '#E0FFFF', '#6495ED',\n    '#008B8B', '#DDA0DD', '#CD853F', '#FFFFF0', '#98FB98',\n    '#9400D3', '#D2691E', '#FF0000', '#008000', '#00008B',\n    '#C71585', '#FFB6C1', '#8B4513', '#20c997', '#FAEBD7',\n    '#E9967A', '#FFEFD5', '#FFE4C4', '#D8BFD8', '#A52A2A',\n    '#8B0000', '#32CD32', '#BDB76B', '#FF0000', '#DAA520',\n    '#800000', '#9370DB', '#F08080', '#FAF0E6', '#FF6347',\n    '#FF4500', '#FFFF00', '#808080', '#00CED1', '#FFC0CB',\n    '#FF00FF', '#F0FFFF', '#A9A9A9', '#F0E68C', '#1E90FF',\n    '#FFDAB9', '#228B22', '#F0FFF0', '#66CDAA', '#ADD8E6',\n    '#DA70D6', '#A0522D', '#FFE4B5', '#48D1CC', '#D2B48C',\n    '#FFEBCD', '#8B008B', '#3CB371', '#87CEEB', '#6A5ACD',\n    '#FFDEAD', '#FF69B4', '#BC8F8F', '#D3D3D3', '#00FF00',\n    '#FAFAD2', '#AFEEEE', '#40E0D0', '#FFF8DC', '#20B2AA',\n    '#00FFFF', '#FA8072', '#F0F8FF']\n  return Object.values($themeColors).concat(colors)\n}\n\nexport function extractAccountNumberAndSequence(ret) {\n  let account = ret.value\n  if (ret.value && ret.value.base_vesting_account) { // vesting account\n    account = ret.value.base_vesting_account?.base_account\n  } else if (ret.value && ret.value.base_account) { // evmos based account\n    account = ret.value.base_account\n  }\n  const accountNumber = account.account_number\n  const sequence = account?.sequence || 0\n\n  return {\n    accountNumber,\n    sequence,\n  }\n}\n\nexport function getUserCurrencySign() {\n  let s = ''\n  switch (getUserCurrency()) {\n    case 'cny':\n    case 'jpy':\n      s = '¥'\n      break\n    case 'krw':\n      s = '₩'\n      break\n    case 'eur':\n      s = '€'\n      break\n    default:\n      s = '$'\n  }\n  return s\n}\n\nexport function consensusPubkeyToHexAddress(consensusPubkey) {\n  let raw = null\n  if (typeof consensusPubkey === 'object') {\n    if (consensusPubkey.type === 'tendermint/PubKeySecp256k1') {\n      raw = new RIPEMD160().update(Buffer.from(sha256(fromBase64(consensusPubkey.value)))).digest('hex').toUpperCase()\n      return raw\n    }\n    raw = sha256(fromBase64(consensusPubkey.value))\n  } else {\n    raw = sha256(fromHex(toHex(fromBech32(consensusPubkey).data).toUpperCase().replace('1624DE6420', '')))\n  }\n  const address = toHex(raw).slice(0, 40).toUpperCase()\n  return address\n}\n\nfunction toSignAddress(addr) {\n  const { data } = addressDecode(addr)\n  return addressEnCode('cosmos', data)\n}\n\nfunction getHdPath(address) {\n  let hdPath = \"m/44'/118/0'/0/0\"\n  Object.values(getLocalAccounts()).forEach(item => {\n    const curr = item.address.find(i => i.addr === address)\n    if (curr && curr.hdpath) {\n      hdPath = curr.hdpath\n    }\n  })\n  //  m/0'/1/2'/2/1000000000\n  return stringToPath(hdPath)\n}\n\nasync function getLedgerAppName(coinType, device, hdpath) {\n  let ledgerAppName = 'Cosmos'\n  switch (coinType) {\n    case 60:\n      return EthereumLedgerSigner.create(device, hdpath) // 'Ethereum'\n    case 529:\n      ledgerAppName = 'Secret' // 'Secret'\n      break\n    case 852:\n      ledgerAppName = 'Desmos' // 'Desmos'\n      break\n    case 330:\n      ledgerAppName = 'Terra' // 'Terra'\n      break\n    case 118:\n    default:\n  }\n  const transport = await (device === 'ledgerBle' ? TransportWebBLE.create() : TransportWebUSB.create())\n  return new LedgerSigner(transport, { hdPaths: [hdpath], ledgerAppName })\n}\n\nexport async function sign(device, chainId, signerAddress, messages, fee, memo, signerData) {\n  const hdpath = getHdPath(signerAddress)\n  let client\n  if (device.startsWith('ledger')) {\n    client = await getSigningClient(device, hdpath)\n  } else {\n    if (!window.getOfflineSigner || !window.keplr) {\n      throw new Error('Please install keplr extension')\n    }\n    await window.keplr.enable(chainId)\n    const signer = window.getOfflineSignerOnlyAmino(chainId)\n    client = await SigningStargateClient.offline(signer)\n  }\n  // let transport\n  // let signer\n  // const hdpath = getHdPath(signerAddress)\n  const coinType = Number(hdpath[1])\n  const addr = device.startsWith('ledger') && coinType === 118 ? toSignAddress(signerAddress) : signerAddress\n  return client.sign(addr, messages, fee, memo, signerData)\n}\n\nexport async function getLedgerAddress(transport = 'blu', hdPath = \"m/44'/118/0'/0/0\") {\n  const protocol = transport === 'usb' ? await TransportWebUSB.create() : await TransportWebBLE.create()\n  // extract Cointype from from HDPath\n  const coinType = Number(stringToPath(hdPath)[1])\n  const signer = await getLedgerAppName(coinType, protocol, stringToPath(hdPath))\n  return signer.getAccounts()\n}\n\nexport function toDuration(value) {\n  return dayjs.duration(value).humanize()\n}\n\n// unit(y M d h m s ms)\nexport function timeIn(time, amount, unit = 's') {\n  const input = dayjs(time).add(amount, unit)\n  return dayjs().unix() > input.unix()\n}\n\nexport function toDay(time, format = 'long') {\n  if (format === 'long') {\n    return dayjs(time).format('YYYY-MM-DD HH:mm')\n  }\n  if (format === 'date') {\n    return dayjs(time).format('YYYY-MM-DD')\n  }\n  if (format === 'time') {\n    return dayjs(time).format('HH:mm:ss')\n  }\n  if (format === 'from') {\n    return dayjs(time).fromNow()\n  }\n  if (format === 'to') {\n    return dayjs(time).toNow()\n  }\n  return dayjs(time).format('YYYY-MM-DD HH:mm:ss')\n}\n\nexport function percent(num) {\n  return parseFloat((num * 100).toFixed(2))\n}\n\nexport function abbr(string, length = 6, suffix = '...') {\n  if (string && string.length > length) {\n    return `${string.substring(0, length)}${suffix}`\n  }\n  return string\n}\n\nexport function abbrRight(string, length = 6, suffix = '...') {\n  if (string && string.length > length) {\n    return `${string.substring(string.length - length)}${suffix}`\n  }\n  return string\n}\n\nexport function abbrMessage(msg) {\n  if (Array.isArray(msg)) {\n    const sum = msg.map(x => abbrMessage(x)).reduce((s, c) => {\n      const sh = s\n      if (sh[c]) {\n        sh[c] += 1\n      } else {\n        sh[c] = 1\n      }\n      return sh\n    }, {})\n    const output = []\n    Object.keys(sum).forEach(k => {\n      output.push(sum[k] > 1 ? `${k}×${sum[k]}` : k)\n    })\n    return output.join(', ')\n  }\n  if (msg['@type']) {\n    return msg['@type'].substring(msg['@type'].lastIndexOf('.') + 1).replace('Msg', '')\n  }\n  if (msg.typeUrl) {\n    return msg.typeUrl.substring(msg.typeUrl.lastIndexOf('.') + 1).replace('Msg', '')\n  }\n  return msg.type.substring(msg.type.lastIndexOf('/') + 1).replace('Msg', '')\n}\n\nexport function abbrAddress(address, length = 10) {\n  return address.substring(0, length).concat('...', address.substring(address.length - length))\n}\n\nexport function isStringArray(value) {\n  let is = false\n  if (Array.isArray(value)) {\n    is = value.findIndex(x => typeof x === 'string') > -1\n  }\n  return is\n}\n\nexport function isToken(value) {\n  let is = false\n  if (Array.isArray(value)) {\n    is = value.findIndex(x => Object.keys(x).includes('denom')) > -1\n  } else {\n    is = Object.keys(value).includes('denom')\n  }\n  return is\n}\n\nexport function formatTokenDenom(tokenDenom) {\n  if (tokenDenom && tokenDenom.code === undefined) {\n    let denom = tokenDenom.denom_trace ? tokenDenom.denom_trace.base_denom : tokenDenom\n    const config = Object.values(getLocalChains())\n\n    config.forEach(x => {\n      if (x.assets) {\n        const asset = x.assets.find(a => (a.base === denom))\n        if (asset) denom = asset.symbol\n      }\n    })\n    return denom.length > 10 ? `${denom.substring(0, 7).toUpperCase()}..${denom.substring(denom.length - 3)}` : denom.toUpperCase()\n  }\n  return ''\n}\n\nexport function getUnitAmount(amount, tokenDenom) {\n  const denom = tokenDenom.denom_trace ? tokenDenom.denom_trace.base_denom : tokenDenom\n  let exp = String(denom).startsWith('gravity') ? 18 : 6\n  const config = Object.values(getLocalChains())\n\n  config.forEach(x => {\n    if (x.assets) {\n      const asset = x.assets.find(a => (a.base === denom))\n      if (asset) exp = asset.exponent\n    }\n  })\n  // eslint-disable-next-line no-undef\n  return String(BigInt(Number(amount) * (10 ** exp)))\n}\n\nexport function numberWithCommas(x) {\n  const parts = x.toString().split('.')\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  return parts.join('.')\n}\n\nexport function formatTokenAmount(tokenAmount, decimals = 2, tokenDenom = 'uatom', format = true) {\n  const denom = tokenDenom.denom_trace ? tokenDenom.denom_trace.base_denom : tokenDenom\n  let amount = 0\n  let exp = String(denom).startsWith('gravity') ? 18 : 6\n  const config = Object.values(getLocalChains())\n\n  config.forEach(x => {\n    if (x.assets) {\n      const asset = x.assets.find(a => (a.base === denom))\n      if (asset) exp = asset.exponent\n    }\n  })\n  amount = Number(Number(tokenAmount)) / (10 ** exp)\n  if (amount > 10) {\n    if (format) { return numberWithCommas(parseFloat(amount.toFixed(decimals))) }\n    return parseFloat(amount.toFixed(decimals))\n  }\n  return parseFloat(amount.toFixed(exp))\n}\n\nexport function isTestnet() {\n  return (window.location.hostname.startsWith('testnet')\n    || window.location.search.indexOf('testnet') > -1)\n}\n\nexport function formatToken(token, IBCDenom = {}, decimals = 2, withDenom = true) {\n  if (token) {\n    const denom = IBCDenom[token.denom] || token.denom\n    if (withDenom) {\n      return `${formatTokenAmount(token.amount, decimals, denom)} ${formatTokenDenom(denom)}`\n    }\n    return formatTokenAmount(token.amount, decimals, denom)\n  }\n  return token\n}\n\nconst COUNT_ABBRS = ['', 'K', 'M', 'B', 't', 'q', 's', 'S', 'o', 'n', 'd', 'U', 'D', 'T', 'Qt', 'Qd', 'Sd', 'St']\n\nexport function formatNumber(count, withAbbr = false, decimals = 2) {\n  const i = count === 0 ? count : Math.floor(Math.log(count) / Math.log(1000))\n  let result = parseFloat((count / (1000 ** i)).toFixed(decimals))\n  if (withAbbr && COUNT_ABBRS[i]) {\n    result += `${COUNT_ABBRS[i]}`\n  }\n  return result\n}\n\nexport function tokenFormatter(tokens, denoms = {}) {\n  if (Array.isArray(tokens)) {\n    return tokens.map(t => formatToken(t, denoms, 2)).join(', ')\n  }\n  return formatToken(tokens, denoms, 2)\n}\n\nexport function getCachedValidators(chainName) {\n  const locals = localStorage.getItem(`validators-${chainName}`)\n  return locals\n}\n\nexport function isHexAddress(v) {\n  const re = /^[A-Z\\d]{40}$/\n  return re.test(v)\n}\n\nexport function getStakingValidatorByHex(chainName, hex) {\n  const locals = localStorage.getItem(`validators-${chainName}`)\n  if (locals) {\n    const val = JSON.parse(locals).find(x => consensusPubkeyToHexAddress(x.consensus_pubkey) === hex)\n    if (val) {\n      return val.description.moniker\n    }\n  }\n  return abbr(hex)\n}\n\nexport function getStakingValidatorByAccount(chainName, addr) {\n  const locals = localStorage.getItem(`validators-${chainName}`)\n  if (locals) {\n    const val = JSON.parse(locals).find(x => operatorAddressToAccount(x.operator_address) === addr)\n    if (val) {\n      return val.description.moniker\n    }\n  }\n  return addr\n}\n\nexport function getStakingValidatorOperator(chainName, addr, length = -1) {\n  const locals = localStorage.getItem(`validators-${chainName}`)\n  if (locals) {\n    const val = JSON.parse(locals).find(x => x.operator_address === addr)\n    if (val) {\n      return val.description.moniker\n    }\n  }\n  if (length > 0) {\n    return addr.substring(addr.length - length)\n  }\n  return addr\n}\n\nexport * from 'compare-versions'\n\nexport * from './data'\nexport class Data {\n\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SACEA,MADF,EACUC,UADV,EACsBC,UADtB,EACkCC,OADlC,EAC2CC,QAD3C,EACqDC,KADrD,QAEO,kBAFP;AAGA,SAASC,MAAT,EAAiBC,YAAjB,QAAqC,gBAArC,C,CACA;;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,UAAT,QAA2B,4BAA3B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,YAAT,QAA6B,cAA7B,C,CACA;AACA;;AACA,SAASC,qBAAT,QAAsC,kBAAtC;AACA,SAASC,gBAAT,QAAiC,8BAAjC;AACA,SAASC,oBAAT,QAAqC,kCAArC;AAEAT,KAAK,CAACU,MAAN,CAAaL,UAAb;AACAL,KAAK,CAACU,MAAN,CAAaT,QAAb;AACAD,KAAK,CAACU,MAAN,CAAaR,YAAb;AACAF,KAAK,CAACU,MAAN,CAAaP,GAAb;AAEA,OAAO,SAASQ,cAAT,CAAwBC,IAAxB,EAA8B;EACnC,IAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqBH,IAArB,CAAb;;EACA,IAAIC,IAAJ,EAAU;IACR,OAAOG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP;EACD;;EACD,OAAO,IAAP;AACD;AAED,OAAO,SAASK,cAAT,GAA0B;EAC/B,OAAOP,cAAc,CAAC,QAAD,CAArB;AACD;AAED,OAAO,SAASQ,gBAAT,GAA4B;EACjC,OAAOR,cAAc,CAAC,UAAD,CAArB;AACD;AAED,OAAO,SAASS,iBAAT,GAA6B;EAClC,OAAOT,cAAc,CAAC,WAAD,CAArB;AACD;AAED,OAAO,SAASU,iBAAT,CAA2BC,EAA3B,EAA+B;EACpC,IAAMC,KAAK,GAAGD,EAAd;EACA,IAAME,GAAG,GAAGJ,iBAAiB,EAA7B;;EACA,IAAII,GAAJ,EAAS;IACPA,GAAG,CAACC,IAAJ,CAASF,KAAT;IACA,OAAOT,YAAY,CAACY,OAAb,CAAqB,WAArB,EAAkCV,IAAI,CAACW,SAAL,CAAeH,GAAf,CAAlC,CAAP;EACD;;EACD,OAAOV,YAAY,CAACY,OAAb,CAAqB,WAArB,EAAkCV,IAAI,CAACW,SAAL,CAAe,CAACJ,KAAD,CAAf,CAAlC,CAAP;AACD;AAED,gBAAsBK,aAAtB;EAAA;AAAA;;;2EAAO;IAAA;IAAA;IAAA;IAAA;MAAA;QAAA;UAAA;YAA6BC,SAA7B,2DAAyC,KAAzC;YAAA;YAAA,OACeA,SADf;;UAAA;YAAA;;YAAA,sBAC6B,KAD7B;cAAA;cAAA;YAAA;;YAAA,cACqCjC,eAAe,CAACkC,MAAhB,EADrC;YAAA;YAAA;;UAAA;YAAA,cACgEnC,eAAe,CAACmC,MAAhB,EADhE;;UAAA;YACCC,KADD;YAAA,iCAEE,IAAIlC,SAAJ,CAAckC,KAAd,CAFF;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C;;;;AAKP,OAAO,SAASC,wBAAT,CAAkCC,WAAlC,EAA+C;EACpD,qBAAyB9C,MAAM,CAAC+C,MAAP,CAAcD,WAAd,CAAzB;EAAA,IAAQE,MAAR,kBAAQA,MAAR;EAAA,IAAgBC,IAAhB,kBAAgBA,IAAhB;;EACA,IAAID,MAAM,KAAK,KAAf,EAAsB;IAAE;IACtB,OAAOhD,MAAM,CAACkD,MAAP,CAAc,KAAd,EAAqBD,IAArB,CAAP;EACD;;EACD,IAAID,MAAM,KAAK,SAAf,EAA0B;IAAE;IAC1B,OAAOhD,MAAM,CAACkD,MAAP,CAAc,KAAd,EAAqBD,IAArB,CAAP;EACD;;EACD,OAAOjD,MAAM,CAACkD,MAAP,CAAcF,MAAM,CAACG,OAAP,CAAe,SAAf,EAA0B,EAA1B,CAAd,EAA6CF,IAA7C,CAAP;AACD,C,CAED;;AACA,OAAO,SAASG,sBAAT,CAAgCC,MAAhC,EAAwCL,MAAxC,EAAgD;EACrD,OAAOhD,MAAM,CAACkD,MAAP,CAAcF,MAAd,EAAsBK,MAAtB,EAA8B,EAA9B,CAAP;AACD;AAED,OAAO,SAASC,YAAT,CAAsBC,aAAtB,EAAqC;EAC1C,mBAAYlD,KAAK,CAACH,UAAU,CAACqD,aAAD,CAAV,CAA0BN,IAA3B,CAAjB;AACD;AAED,OAAO,SAASO,aAAT,CAAuBC,OAAvB,EAAgC;EACrC,IAAIA,OAAO,CAACC,UAAR,CAAmB,IAAnB,CAAJ,EAA8B;IAC5B,OAAOxD,UAAU,CAACU,UAAU,CAAC6C,OAAD,CAAX,CAAjB;EACD;;EACD,OAAOvD,UAAU,CAACuD,OAAD,CAAjB;AACD;AAED,OAAO,SAASE,aAAT,CAAuBX,MAAvB,EAA+BK,MAA/B,EAAuC;EAC5C,OAAOjD,QAAQ,CAAC4C,MAAD,EAASK,MAAT,CAAf;AACD;AAED,OAAO,SAASO,eAAT,GAA2B;EAChC,IAAMC,QAAQ,GAAGlC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB;EACA,OAAOiC,QAAQ,IAAI,KAAnB;AACD;AAED,OAAO,SAASC,eAAT,CAAyBD,QAAzB,EAAmC;EACxClC,YAAY,CAACY,OAAb,CAAqB,UAArB,EAAiCsB,QAAjC;AACD;AAED,OAAO,SAASE,WAAT,GAAuB;EAC5B,IAAMC,MAAM,GAAG,CACb,SADa,EACF,SADE,EACS,SADT,EACoB,SADpB,EAC+B,SAD/B,EAEb,SAFa,EAEF,SAFE,EAES,SAFT,EAEoB,SAFpB,EAE+B,SAF/B,EAGb,SAHa,EAGF,SAHE,EAGS,SAHT,EAGoB,SAHpB,EAG+B,SAH/B,EAIb,SAJa,EAIF,SAJE,EAIS,SAJT,EAIoB,SAJpB,EAI+B,SAJ/B,EAKb,SALa,EAKF,SALE,EAKS,SALT,EAKoB,SALpB,EAK+B,SAL/B,EAMb,SANa,EAMF,SANE,EAMS,SANT,EAMoB,SANpB,EAM+B,SAN/B,EAOb,SAPa,EAOF,SAPE,EAOS,SAPT,EAOoB,SAPpB,EAO+B,SAP/B,EAQb,SARa,EAQF,SARE,EAQS,SART,EAQoB,SARpB,EAQ+B,SAR/B,EASb,SATa,EASF,SATE,EASS,SATT,EASoB,SATpB,EAS+B,SAT/B,EAUb,SAVa,EAUF,SAVE,EAUS,SAVT,EAUoB,SAVpB,EAU+B,SAV/B,EAWb,SAXa,EAWF,SAXE,EAWS,SAXT,EAWoB,SAXpB,EAW+B,SAX/B,EAYb,SAZa,EAYF,SAZE,EAYS,SAZT,EAYoB,SAZpB,EAY+B,SAZ/B,EAab,SAba,EAaF,SAbE,EAaS,SAbT,EAaoB,SAbpB,EAa+B,SAb/B,EAcb,SAda,EAcF,SAdE,EAcS,SAdT,EAcoB,SAdpB,EAc+B,SAd/B,EAeb,SAfa,EAeF,SAfE,EAeS,SAfT,EAeoB,SAfpB,EAe+B,SAf/B,EAgBb,SAhBa,EAgBF,SAhBE,EAgBS,SAhBT,EAgBoB,SAhBpB,EAgB+B,SAhB/B,EAiBb,SAjBa,EAiBF,SAjBE,EAiBS,SAjBT,EAiBoB,SAjBpB,EAiB+B,SAjB/B,EAkBb,SAlBa,EAkBF,SAlBE,EAkBS,SAlBT,EAkBoB,SAlBpB,EAkB+B,SAlB/B,EAmBb,SAnBa,EAmBF,SAnBE,EAmBS,SAnBT,EAmBoB,SAnBpB,EAmB+B,SAnB/B,EAoBb,SApBa,EAoBF,SApBE,EAoBS,SApBT,EAoBoB,SApBpB,EAoB+B,SApB/B,EAqBb,SArBa,EAqBF,SArBE,EAqBS,SArBT,EAqBoB,SArBpB,EAqB+B,SArB/B,EAsBb,SAtBa,EAsBF,SAtBE,EAsBS,SAtBT,EAsBoB,SAtBpB,EAsB+B,SAtB/B,EAuBb,SAvBa,EAuBF,SAvBE,EAuBS,SAvBT,EAuBoB,SAvBpB,EAuB+B,SAvB/B,EAwBb,SAxBa,EAwBF,SAxBE,EAwBS,SAxBT,EAwBoB,SAxBpB,EAwB+B,SAxB/B,EAyBb,SAzBa,EAyBF,SAzBE,EAyBS,SAzBT,EAyBoB,SAzBpB,EAyB+B,SAzB/B,EA0Bb,SA1Ba,EA0BF,SA1BE,EA0BS,SA1BT,EA0BoB,SA1BpB,EA0B+B,SA1B/B,EA2Bb,SA3Ba,EA2BF,SA3BE,EA2BS,SA3BT,EA2BoB,SA3BpB,EA2B+B,SA3B/B,EA4Bb,SA5Ba,EA4BF,SA5BE,EA4BS,SA5BT,EA4BoB,SA5BpB,EA4B+B,SA5B/B,EA6Bb,SA7Ba,EA6BF,SA7BE,EA6BS,SA7BT,CAAf;EA8BA,OAAOC,MAAM,CAACC,MAAP,CAAc/C,YAAd,EAA4BgD,MAA5B,CAAmCH,MAAnC,CAAP;AACD;AAED,OAAO,SAASI,+BAAT,CAAyCC,GAAzC,EAA8C;EAAA;;EACnD,IAAIC,OAAO,GAAGD,GAAG,CAACE,KAAlB;;EACA,IAAIF,GAAG,CAACE,KAAJ,IAAaF,GAAG,CAACE,KAAJ,CAAUC,oBAA3B,EAAiD;IAAA;;IAAE;IACjDF,OAAO,4BAAGD,GAAG,CAACE,KAAJ,CAAUC,oBAAb,0DAAG,sBAAgCC,YAA1C;EACD,CAFD,MAEO,IAAIJ,GAAG,CAACE,KAAJ,IAAaF,GAAG,CAACE,KAAJ,CAAUE,YAA3B,EAAyC;IAAE;IAChDH,OAAO,GAAGD,GAAG,CAACE,KAAJ,CAAUE,YAApB;EACD;;EACD,IAAMC,aAAa,GAAGJ,OAAO,CAACK,cAA9B;EACA,IAAMC,QAAQ,GAAG,aAAAN,OAAO,UAAP,4CAASM,QAAT,KAAqB,CAAtC;EAEA,OAAO;IACLF,aAAa,EAAbA,aADK;IAELE,QAAQ,EAARA;EAFK,CAAP;AAID;AAED,OAAO,SAASC,mBAAT,GAA+B;EACpC,IAAIC,CAAC,GAAG,EAAR;;EACA,QAAQlB,eAAe,EAAvB;IACE,KAAK,KAAL;IACA,KAAK,KAAL;MACEkB,CAAC,GAAG,GAAJ;MACA;;IACF,KAAK,KAAL;MACEA,CAAC,GAAG,GAAJ;MACA;;IACF,KAAK,KAAL;MACEA,CAAC,GAAG,GAAJ;MACA;;IACF;MACEA,CAAC,GAAG,GAAJ;EAZJ;;EAcA,OAAOA,CAAP;AACD;AAED,OAAO,SAASC,2BAAT,CAAqCC,eAArC,EAAsD;EAC3D,IAAIC,GAAG,GAAG,IAAV;;EACA,IAAI,QAAOD,eAAP,MAA2B,QAA/B,EAAyC;IACvC,IAAIA,eAAe,CAACE,IAAhB,KAAyB,4BAA7B,EAA2D;MACzDD,GAAG,GAAG,IAAIhE,SAAJ,GAAgBkE,MAAhB,CAAuBC,MAAM,CAACC,IAAP,CAAY/E,MAAM,CAACL,UAAU,CAAC+E,eAAe,CAACT,KAAjB,CAAX,CAAlB,CAAvB,EAA+Ee,MAA/E,CAAsF,KAAtF,EAA6FC,WAA7F,EAAN;MACA,OAAON,GAAP;IACD;;IACDA,GAAG,GAAG3E,MAAM,CAACL,UAAU,CAAC+E,eAAe,CAACT,KAAjB,CAAX,CAAZ;EACD,CAND,MAMO;IACLU,GAAG,GAAG3E,MAAM,CAACH,OAAO,CAACE,KAAK,CAACH,UAAU,CAAC8E,eAAD,CAAV,CAA4B/B,IAA7B,CAAL,CAAwCsC,WAAxC,GAAsDpC,OAAtD,CAA8D,YAA9D,EAA4E,EAA5E,CAAD,CAAR,CAAZ;EACD;;EACD,IAAMM,OAAO,GAAGpD,KAAK,CAAC4E,GAAD,CAAL,CAAWO,KAAX,CAAiB,CAAjB,EAAoB,EAApB,EAAwBD,WAAxB,EAAhB;EACA,OAAO9B,OAAP;AACD;;AAED,SAASgC,aAAT,CAAuBC,IAAvB,EAA6B;EAC3B,qBAAiBlC,aAAa,CAACkC,IAAD,CAA9B;EAAA,IAAQzC,IAAR,kBAAQA,IAAR;;EACA,OAAOU,aAAa,CAAC,QAAD,EAAWV,IAAX,CAApB;AACD;;AAED,SAAS0C,SAAT,CAAmBlC,OAAnB,EAA4B;EAC1B,IAAImC,MAAM,GAAG,kBAAb;EACA3B,MAAM,CAACC,MAAP,CAAclC,gBAAgB,EAA9B,EAAkC6D,OAAlC,CAA0C,UAAAC,IAAI,EAAI;IAChD,IAAMC,IAAI,GAAGD,IAAI,CAACrC,OAAL,CAAauC,IAAb,CAAkB,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACP,IAAF,KAAWjC,OAAf;IAAA,CAAnB,CAAb;;IACA,IAAIsC,IAAI,IAAIA,IAAI,CAACG,MAAjB,EAAyB;MACvBN,MAAM,GAAGG,IAAI,CAACG,MAAd;IACD;EACF,CALD,EAF0B,CAQ1B;;EACA,OAAO3F,YAAY,CAACqF,MAAD,CAAnB;AACD;;SAEcO,gB;;;;;8EAAf,kBAAgCC,QAAhC,EAA0CC,MAA1C,EAAkDH,MAAlD;IAAA;IAAA;MAAA;QAAA;UAAA;YACMI,aADN,GACsB,QADtB;YAAA,eAEUF,QAFV;YAAA,kCAGS,EAHT,wBAKS,GALT,wBAQS,GART,wBAWS,GAXT,wBAcS,GAdT;YAAA;;UAAA;YAAA,kCAIa9E,oBAAoB,CAACqB,MAArB,CAA4B0D,MAA5B,EAAoCH,MAApC,CAJb;;UAAA;YAMMI,aAAa,GAAG,QAAhB,CANN,CAM+B;;YAN/B;;UAAA;YASMA,aAAa,GAAG,QAAhB,CATN,CAS+B;;YAT/B;;UAAA;YAYMA,aAAa,GAAG,OAAhB,CAZN,CAY8B;;YAZ9B;;UAAA;YAAA;YAAA,OAiB2BD,MAAM,KAAK,WAAX,GAAyB7F,eAAe,CAACmC,MAAhB,EAAzB,GAAoDlC,eAAe,CAACkC,MAAhB,EAjB/E;;UAAA;YAiBQD,SAjBR;YAAA,kCAkBS,IAAI/B,YAAJ,CAAiB+B,SAAjB,EAA4B;cAAE6D,OAAO,EAAE,CAACL,MAAD,CAAX;cAAqBI,aAAa,EAAbA;YAArB,CAA5B,CAlBT;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C;;;;AAqBA,gBAAsBE,IAAtB;EAAA;AAAA;;;kEAAO,kBAAoBH,MAApB,EAA4BI,OAA5B,EAAqCC,aAArC,EAAoDC,QAApD,EAA8DC,GAA9D,EAAmEC,IAAnE,EAAyEC,UAAzE;IAAA;IAAA;MAAA;QAAA;UAAA;YACCZ,MADD,GACUP,SAAS,CAACe,aAAD,CADnB;;YAAA,KAGDL,MAAM,CAAC3C,UAAP,CAAkB,QAAlB,CAHC;cAAA;cAAA;YAAA;;YAAA;YAAA,OAIYrC,gBAAgB,CAACgF,MAAD,EAASH,MAAT,CAJ5B;;UAAA;YAIHa,MAJG;YAAA;YAAA;;UAAA;YAAA,MAMC,CAACC,MAAM,CAACC,gBAAR,IAA4B,CAACD,MAAM,CAACE,KANrC;cAAA;cAAA;YAAA;;YAAA,MAOK,IAAIC,KAAJ,CAAU,gCAAV,CAPL;;UAAA;YAAA;YAAA,OASGH,MAAM,CAACE,KAAP,CAAaE,MAAb,CAAoBX,OAApB,CATH;;UAAA;YAUGY,MAVH,GAUYL,MAAM,CAACM,yBAAP,CAAiCb,OAAjC,CAVZ;YAAA;YAAA,OAWYrF,qBAAqB,CAACmG,OAAtB,CAA8BF,MAA9B,CAXZ;;UAAA;YAWHN,MAXG;;UAAA;YAaL;YACA;YACA;YACMX,QAhBD,GAgBYoB,MAAM,CAACtB,MAAM,CAAC,CAAD,CAAP,CAhBlB;YAiBCR,IAjBD,GAiBQW,MAAM,CAAC3C,UAAP,CAAkB,QAAlB,KAA+B0C,QAAQ,KAAK,GAA5C,GAAkDX,aAAa,CAACiB,aAAD,CAA/D,GAAiFA,aAjBzF;YAAA,kCAkBEK,MAAM,CAACP,IAAP,CAAYd,IAAZ,EAAkBiB,QAAlB,EAA4BC,GAA5B,EAAiCC,IAAjC,EAAuCC,UAAvC,CAlBF;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C;;;;AAqBP,gBAAsBW,gBAAtB;EAAA;AAAA;;;8EAAO;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;MAAA;QAAA;UAAA;YAAgC/E,SAAhC,8DAA4C,KAA5C;YAAmDkD,MAAnD,8DAA4D,kBAA5D;;YAAA,MACYlD,SAAS,KAAK,KAD1B;cAAA;cAAA;YAAA;;YAAA;YAAA,OACwCjC,eAAe,CAACkC,MAAhB,EADxC;;UAAA;YAAA;YAAA;YAAA;;UAAA;YAAA;YAAA,OACyEnC,eAAe,CAACmC,MAAhB,EADzE;;UAAA;YAAA;;UAAA;YACC+E,QADD;YAEL;YACMtB,QAHD,GAGYoB,MAAM,CAACjH,YAAY,CAACqF,MAAD,CAAZ,CAAqB,CAArB,CAAD,CAHlB;YAAA;YAAA,OAIgBO,gBAAgB,CAACC,QAAD,EAAWsB,QAAX,EAAqBnH,YAAY,CAACqF,MAAD,CAAjC,CAJhC;;UAAA;YAICyB,MAJD;YAAA,kCAKEA,MAAM,CAACM,WAAP,EALF;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C;;;;AAQP,OAAO,SAASC,UAAT,CAAoBrD,KAApB,EAA2B;EAChC,OAAO1D,KAAK,CAACC,QAAN,CAAeyD,KAAf,EAAsBsD,QAAtB,EAAP;AACD,C,CAED;;AACA,OAAO,SAASC,MAAT,CAAgBC,IAAhB,EAAsBC,MAAtB,EAA0C;EAAA,IAAZC,IAAY,uEAAL,GAAK;EAC/C,IAAMC,KAAK,GAAGrH,KAAK,CAACkH,IAAD,CAAL,CAAYI,GAAZ,CAAgBH,MAAhB,EAAwBC,IAAxB,CAAd;EACA,OAAOpH,KAAK,GAAGuH,IAAR,KAAiBF,KAAK,CAACE,IAAN,EAAxB;AACD;AAED,OAAO,SAASC,KAAT,CAAeN,IAAf,EAAsC;EAAA,IAAjBO,MAAiB,uEAAR,MAAQ;;EAC3C,IAAIA,MAAM,KAAK,MAAf,EAAuB;IACrB,OAAOzH,KAAK,CAACkH,IAAD,CAAL,CAAYO,MAAZ,CAAmB,kBAAnB,CAAP;EACD;;EACD,IAAIA,MAAM,KAAK,MAAf,EAAuB;IACrB,OAAOzH,KAAK,CAACkH,IAAD,CAAL,CAAYO,MAAZ,CAAmB,YAAnB,CAAP;EACD;;EACD,IAAIA,MAAM,KAAK,MAAf,EAAuB;IACrB,OAAOzH,KAAK,CAACkH,IAAD,CAAL,CAAYO,MAAZ,CAAmB,UAAnB,CAAP;EACD;;EACD,IAAIA,MAAM,KAAK,MAAf,EAAuB;IACrB,OAAOzH,KAAK,CAACkH,IAAD,CAAL,CAAYQ,OAAZ,EAAP;EACD;;EACD,IAAID,MAAM,KAAK,IAAf,EAAqB;IACnB,OAAOzH,KAAK,CAACkH,IAAD,CAAL,CAAYS,KAAZ,EAAP;EACD;;EACD,OAAO3H,KAAK,CAACkH,IAAD,CAAL,CAAYO,MAAZ,CAAmB,qBAAnB,CAAP;AACD;AAED,OAAO,SAASG,OAAT,CAAiBC,GAAjB,EAAsB;EAC3B,OAAOC,UAAU,CAAC,CAACD,GAAG,GAAG,GAAP,EAAYE,OAAZ,CAAoB,CAApB,CAAD,CAAjB;AACD;AAED,OAAO,SAASC,IAAT,CAAcC,MAAd,EAAkD;EAAA,IAA5BC,MAA4B,uEAAnB,CAAmB;EAAA,IAAhBC,MAAgB,uEAAP,KAAO;;EACvD,IAAIF,MAAM,IAAIA,MAAM,CAACC,MAAP,GAAgBA,MAA9B,EAAsC;IACpC,iBAAUD,MAAM,CAACG,SAAP,CAAiB,CAAjB,EAAoBF,MAApB,CAAV,SAAwCC,MAAxC;EACD;;EACD,OAAOF,MAAP;AACD;AAED,OAAO,SAASI,SAAT,CAAmBJ,MAAnB,EAAuD;EAAA,IAA5BC,MAA4B,uEAAnB,CAAmB;EAAA,IAAhBC,MAAgB,uEAAP,KAAO;;EAC5D,IAAIF,MAAM,IAAIA,MAAM,CAACC,MAAP,GAAgBA,MAA9B,EAAsC;IACpC,iBAAUD,MAAM,CAACG,SAAP,CAAiBH,MAAM,CAACC,MAAP,GAAgBA,MAAjC,CAAV,SAAqDC,MAArD;EACD;;EACD,OAAOF,MAAP;AACD;AAED,OAAO,SAASK,WAAT,CAAqBC,GAArB,EAA0B;EAC/B,IAAIC,KAAK,CAACC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;IACtB,IAAMG,GAAG,GAAGH,GAAG,CAACI,GAAJ,CAAQ,UAAAC,CAAC;MAAA,OAAIN,WAAW,CAACM,CAAD,CAAf;IAAA,CAAT,EAA6BC,MAA7B,CAAoC,UAAC5E,CAAD,EAAI6E,CAAJ,EAAU;MACxD,IAAMC,EAAE,GAAG9E,CAAX;;MACA,IAAI8E,EAAE,CAACD,CAAD,CAAN,EAAW;QACTC,EAAE,CAACD,CAAD,CAAF,IAAS,CAAT;MACD,CAFD,MAEO;QACLC,EAAE,CAACD,CAAD,CAAF,GAAQ,CAAR;MACD;;MACD,OAAOC,EAAP;IACD,CARW,EAQT,EARS,CAAZ;IASA,IAAMC,MAAM,GAAG,EAAf;IACA5F,MAAM,CAAC6F,IAAP,CAAYP,GAAZ,EAAiB1D,OAAjB,CAAyB,UAAAkE,CAAC,EAAI;MAC5BF,MAAM,CAACvH,IAAP,CAAYiH,GAAG,CAACQ,CAAD,CAAH,GAAS,CAAT,aAAgBA,CAAhB,iBAAqBR,GAAG,CAACQ,CAAD,CAAxB,IAAgCA,CAA5C;IACD,CAFD;IAGA,OAAOF,MAAM,CAACG,IAAP,CAAY,IAAZ,CAAP;EACD;;EACD,IAAIZ,GAAG,CAAC,OAAD,CAAP,EAAkB;IAChB,OAAOA,GAAG,CAAC,OAAD,CAAH,CAAaH,SAAb,CAAuBG,GAAG,CAAC,OAAD,CAAH,CAAaa,WAAb,CAAyB,GAAzB,IAAgC,CAAvD,EAA0D9G,OAA1D,CAAkE,KAAlE,EAAyE,EAAzE,CAAP;EACD;;EACD,IAAIiG,GAAG,CAACc,OAAR,EAAiB;IACf,OAAOd,GAAG,CAACc,OAAJ,CAAYjB,SAAZ,CAAsBG,GAAG,CAACc,OAAJ,CAAYD,WAAZ,CAAwB,GAAxB,IAA+B,CAArD,EAAwD9G,OAAxD,CAAgE,KAAhE,EAAuE,EAAvE,CAAP;EACD;;EACD,OAAOiG,GAAG,CAAClE,IAAJ,CAAS+D,SAAT,CAAmBG,GAAG,CAAClE,IAAJ,CAAS+E,WAAT,CAAqB,GAArB,IAA4B,CAA/C,EAAkD9G,OAAlD,CAA0D,KAA1D,EAAiE,EAAjE,CAAP;AACD;AAED,OAAO,SAASgH,WAAT,CAAqB1G,OAArB,EAA2C;EAAA,IAAbsF,MAAa,uEAAJ,EAAI;EAChD,OAAOtF,OAAO,CAACwF,SAAR,CAAkB,CAAlB,EAAqBF,MAArB,EAA6B5E,MAA7B,CAAoC,KAApC,EAA2CV,OAAO,CAACwF,SAAR,CAAkBxF,OAAO,CAACsF,MAAR,GAAiBA,MAAnC,CAA3C,CAAP;AACD;AAED,OAAO,SAASqB,aAAT,CAAuB7F,KAAvB,EAA8B;EACnC,IAAI8F,EAAE,GAAG,KAAT;;EACA,IAAIhB,KAAK,CAACC,OAAN,CAAc/E,KAAd,CAAJ,EAA0B;IACxB8F,EAAE,GAAG9F,KAAK,CAAC+F,SAAN,CAAgB,UAAAb,CAAC;MAAA,OAAI,OAAOA,CAAP,KAAa,QAAjB;IAAA,CAAjB,IAA8C,CAAC,CAApD;EACD;;EACD,OAAOY,EAAP;AACD;AAED,OAAO,SAASE,OAAT,CAAiBhG,KAAjB,EAAwB;EAC7B,IAAI8F,EAAE,GAAG,KAAT;;EACA,IAAIhB,KAAK,CAACC,OAAN,CAAc/E,KAAd,CAAJ,EAA0B;IACxB8F,EAAE,GAAG9F,KAAK,CAAC+F,SAAN,CAAgB,UAAAb,CAAC;MAAA,OAAIxF,MAAM,CAAC6F,IAAP,CAAYL,CAAZ,EAAee,QAAf,CAAwB,OAAxB,CAAJ;IAAA,CAAjB,IAAyD,CAAC,CAA/D;EACD,CAFD,MAEO;IACLH,EAAE,GAAGpG,MAAM,CAAC6F,IAAP,CAAYvF,KAAZ,EAAmBiG,QAAnB,CAA4B,OAA5B,CAAL;EACD;;EACD,OAAOH,EAAP;AACD;AAED,OAAO,SAASI,gBAAT,CAA0BC,UAA1B,EAAsC;EAC3C,IAAIA,UAAU,IAAIA,UAAU,CAACC,IAAX,KAAoBC,SAAtC,EAAiD;IAC/C,IAAIC,KAAK,GAAGH,UAAU,CAACI,WAAX,GAAyBJ,UAAU,CAACI,WAAX,CAAuBC,UAAhD,GAA6DL,UAAzE;IACA,IAAMM,MAAM,GAAG/G,MAAM,CAACC,MAAP,CAAcnC,cAAc,EAA5B,CAAf;IAEAiJ,MAAM,CAACnF,OAAP,CAAe,UAAA4D,CAAC,EAAI;MAClB,IAAIA,CAAC,CAACwB,MAAN,EAAc;QACZ,IAAMC,KAAK,GAAGzB,CAAC,CAACwB,MAAF,CAASjF,IAAT,CAAc,UAAAmF,CAAC;UAAA,OAAKA,CAAC,CAACC,IAAF,KAAWP,KAAhB;QAAA,CAAf,CAAd;QACA,IAAIK,KAAJ,EAAWL,KAAK,GAAGK,KAAK,CAACG,MAAd;MACZ;IACF,CALD;IAMA,OAAOR,KAAK,CAAC9B,MAAN,GAAe,EAAf,aAAuB8B,KAAK,CAAC5B,SAAN,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB1D,WAAtB,EAAvB,eAA+DsF,KAAK,CAAC5B,SAAN,CAAgB4B,KAAK,CAAC9B,MAAN,GAAe,CAA/B,CAA/D,IAAqG8B,KAAK,CAACtF,WAAN,EAA5G;EACD;;EACD,OAAO,EAAP;AACD;AAED,OAAO,SAAS+F,aAAT,CAAuBtD,MAAvB,EAA+B0C,UAA/B,EAA2C;EAChD,IAAMG,KAAK,GAAGH,UAAU,CAACI,WAAX,GAAyBJ,UAAU,CAACI,WAAX,CAAuBC,UAAhD,GAA6DL,UAA3E;EACA,IAAIa,GAAG,GAAGC,MAAM,CAACX,KAAD,CAAN,CAAcnH,UAAd,CAAyB,SAAzB,IAAsC,EAAtC,GAA2C,CAArD;EACA,IAAMsH,MAAM,GAAG/G,MAAM,CAACC,MAAP,CAAcnC,cAAc,EAA5B,CAAf;EAEAiJ,MAAM,CAACnF,OAAP,CAAe,UAAA4D,CAAC,EAAI;IAClB,IAAIA,CAAC,CAACwB,MAAN,EAAc;MACZ,IAAMC,KAAK,GAAGzB,CAAC,CAACwB,MAAF,CAASjF,IAAT,CAAc,UAAAmF,CAAC;QAAA,OAAKA,CAAC,CAACC,IAAF,KAAWP,KAAhB;MAAA,CAAf,CAAd;MACA,IAAIK,KAAJ,EAAWK,GAAG,GAAGL,KAAK,CAACO,QAAZ;IACZ;EACF,CALD,EALgD,CAWhD;;EACA,OAAOD,MAAM,CAACE,MAAM,CAAClE,MAAM,CAACQ,MAAD,CAAN,YAAkB,EAAlB,EAAwBuD,GAAxB,CAAD,CAAP,CAAb;AACD;AAED,OAAO,SAASI,gBAAT,CAA0BlC,CAA1B,EAA6B;EAClC,IAAMmC,KAAK,GAAGnC,CAAC,CAACoC,QAAF,GAAaC,KAAb,CAAmB,GAAnB,CAAd;EACAF,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAASzI,OAAT,CAAiB,uBAAjB,EAA0C,GAA1C,CAAX;EACA,OAAOyI,KAAK,CAAC5B,IAAN,CAAW,GAAX,CAAP;AACD;AAED,OAAO,SAAS+B,iBAAT,CAA2BC,WAA3B,EAA2F;EAAA,IAAnDC,QAAmD,uEAAxC,CAAwC;EAAA,IAArCvB,UAAqC,uEAAxB,OAAwB;EAAA,IAAfpC,MAAe,uEAAN,IAAM;EAChG,IAAMuC,KAAK,GAAGH,UAAU,CAACI,WAAX,GAAyBJ,UAAU,CAACI,WAAX,CAAuBC,UAAhD,GAA6DL,UAA3E;EACA,IAAI1C,MAAM,GAAG,CAAb;EACA,IAAIuD,GAAG,GAAGC,MAAM,CAACX,KAAD,CAAN,CAAcnH,UAAd,CAAyB,SAAzB,IAAsC,EAAtC,GAA2C,CAArD;EACA,IAAMsH,MAAM,GAAG/G,MAAM,CAACC,MAAP,CAAcnC,cAAc,EAA5B,CAAf;EAEAiJ,MAAM,CAACnF,OAAP,CAAe,UAAA4D,CAAC,EAAI;IAClB,IAAIA,CAAC,CAACwB,MAAN,EAAc;MACZ,IAAMC,KAAK,GAAGzB,CAAC,CAACwB,MAAF,CAASjF,IAAT,CAAc,UAAAmF,CAAC;QAAA,OAAKA,CAAC,CAACC,IAAF,KAAWP,KAAhB;MAAA,CAAf,CAAd;MACA,IAAIK,KAAJ,EAAWK,GAAG,GAAGL,KAAK,CAACO,QAAZ;IACZ;EACF,CALD;EAMAzD,MAAM,GAAGR,MAAM,CAACA,MAAM,CAACwE,WAAD,CAAP,CAAN,YAA+B,EAA/B,EAAqCT,GAArC,CAAT;;EACA,IAAIvD,MAAM,GAAG,EAAb,EAAiB;IACf,IAAIM,MAAJ,EAAY;MAAE,OAAOqD,gBAAgB,CAAChD,UAAU,CAACX,MAAM,CAACY,OAAP,CAAeqD,QAAf,CAAD,CAAX,CAAvB;IAA+D;;IAC7E,OAAOtD,UAAU,CAACX,MAAM,CAACY,OAAP,CAAeqD,QAAf,CAAD,CAAjB;EACD;;EACD,OAAOtD,UAAU,CAACX,MAAM,CAACY,OAAP,CAAe2C,GAAf,CAAD,CAAjB;AACD;AAED,OAAO,SAASW,SAAT,GAAqB;EAC1B,OAAQlF,MAAM,CAACmF,QAAP,CAAgBC,QAAhB,CAAyB1I,UAAzB,CAAoC,SAApC,KACHsD,MAAM,CAACmF,QAAP,CAAgBE,MAAhB,CAAuBC,OAAvB,CAA+B,SAA/B,IAA4C,CAAC,CADlD;AAED;AAED,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA2E;EAAA,IAA/CC,QAA+C,uEAApC,EAAoC;EAAA,IAAhCR,QAAgC,uEAArB,CAAqB;EAAA,IAAlBS,SAAkB,uEAAN,IAAM;;EAChF,IAAIF,KAAJ,EAAW;IACT,IAAM3B,KAAK,GAAG4B,QAAQ,CAACD,KAAK,CAAC3B,KAAP,CAAR,IAAyB2B,KAAK,CAAC3B,KAA7C;;IACA,IAAI6B,SAAJ,EAAe;MACb,iBAAUX,iBAAiB,CAACS,KAAK,CAACxE,MAAP,EAAeiE,QAAf,EAAyBpB,KAAzB,CAA3B,cAA8DJ,gBAAgB,CAACI,KAAD,CAA9E;IACD;;IACD,OAAOkB,iBAAiB,CAACS,KAAK,CAACxE,MAAP,EAAeiE,QAAf,EAAyBpB,KAAzB,CAAxB;EACD;;EACD,OAAO2B,KAAP;AACD;AAED,IAAMG,WAAW,GAAG,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,GAAf,EAAoB,GAApB,EAAyB,GAAzB,EAA8B,GAA9B,EAAmC,GAAnC,EAAwC,GAAxC,EAA6C,GAA7C,EAAkD,GAAlD,EAAuD,GAAvD,EAA4D,GAA5D,EAAiE,GAAjE,EAAsE,IAAtE,EAA4E,IAA5E,EAAkF,IAAlF,EAAwF,IAAxF,CAApB;AAEA,OAAO,SAASC,YAAT,CAAsBC,KAAtB,EAA6D;EAAA,IAAhCC,QAAgC,uEAArB,KAAqB;EAAA,IAAdb,QAAc,uEAAH,CAAG;EAClE,IAAMhG,CAAC,GAAG4G,KAAK,KAAK,CAAV,GAAcA,KAAd,GAAsBE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,GAAL,CAASJ,KAAT,IAAkBE,IAAI,CAACE,GAAL,CAAS,IAAT,CAA7B,CAAhC;EACA,IAAIC,MAAM,GAAGvE,UAAU,CAAC,CAACkE,KAAK,YAAI,IAAJ,EAAY5G,CAAZ,CAAN,EAAsB2C,OAAtB,CAA8BqD,QAA9B,CAAD,CAAvB;;EACA,IAAIa,QAAQ,IAAIH,WAAW,CAAC1G,CAAD,CAA3B,EAAgC;IAC9BiH,MAAM,cAAOP,WAAW,CAAC1G,CAAD,CAAlB,CAAN;EACD;;EACD,OAAOiH,MAAP;AACD;AAED,OAAO,SAASC,cAAT,CAAwBC,MAAxB,EAA6C;EAAA,IAAbC,MAAa,uEAAJ,EAAI;;EAClD,IAAIhE,KAAK,CAACC,OAAN,CAAc8D,MAAd,CAAJ,EAA2B;IACzB,OAAOA,MAAM,CAAC5D,GAAP,CAAW,UAAA8D,CAAC;MAAA,OAAIf,WAAW,CAACe,CAAD,EAAID,MAAJ,EAAY,CAAZ,CAAf;IAAA,CAAZ,EAA2CrD,IAA3C,CAAgD,IAAhD,CAAP;EACD;;EACD,OAAOuC,WAAW,CAACa,MAAD,EAASC,MAAT,EAAiB,CAAjB,CAAlB;AACD;AAED,OAAO,SAASE,mBAAT,CAA6BC,SAA7B,EAAwC;EAC7C,IAAMC,MAAM,GAAG9L,YAAY,CAACC,OAAb,sBAAmC4L,SAAnC,EAAf;EACA,OAAOC,MAAP;AACD;AAED,OAAO,SAASC,YAAT,CAAsBC,CAAtB,EAAyB;EAC9B,IAAMC,EAAE,GAAG,eAAX;EACA,OAAOA,EAAE,CAACC,IAAH,CAAQF,CAAR,CAAP;AACD;AAED,OAAO,SAASG,wBAAT,CAAkCN,SAAlC,EAA6CO,GAA7C,EAAkD;EACvD,IAAMN,MAAM,GAAG9L,YAAY,CAACC,OAAb,sBAAmC4L,SAAnC,EAAf;;EACA,IAAIC,MAAJ,EAAY;IACV,IAAMO,GAAG,GAAGnM,IAAI,CAACC,KAAL,CAAW2L,MAAX,EAAmBzH,IAAnB,CAAwB,UAAAyD,CAAC;MAAA,OAAI1E,2BAA2B,CAAC0E,CAAC,CAACwE,gBAAH,CAA3B,KAAoDF,GAAxD;IAAA,CAAzB,CAAZ;;IACA,IAAIC,GAAJ,EAAS;MACP,OAAOA,GAAG,CAACE,WAAJ,CAAgBC,OAAvB;IACD;EACF;;EACD,OAAOtF,IAAI,CAACkF,GAAD,CAAX;AACD;AAED,OAAO,SAASK,4BAAT,CAAsCZ,SAAtC,EAAiD9H,IAAjD,EAAuD;EAC5D,IAAM+H,MAAM,GAAG9L,YAAY,CAACC,OAAb,sBAAmC4L,SAAnC,EAAf;;EACA,IAAIC,MAAJ,EAAY;IACV,IAAMO,GAAG,GAAGnM,IAAI,CAACC,KAAL,CAAW2L,MAAX,EAAmBzH,IAAnB,CAAwB,UAAAyD,CAAC;MAAA,OAAI5G,wBAAwB,CAAC4G,CAAC,CAAC4E,gBAAH,CAAxB,KAAiD3I,IAArD;IAAA,CAAzB,CAAZ;;IACA,IAAIsI,GAAJ,EAAS;MACP,OAAOA,GAAG,CAACE,WAAJ,CAAgBC,OAAvB;IACD;EACF;;EACD,OAAOzI,IAAP;AACD;AAED,OAAO,SAAS4I,2BAAT,CAAqCd,SAArC,EAAgD9H,IAAhD,EAAmE;EAAA,IAAbqD,MAAa,uEAAJ,CAAC,CAAG;EACxE,IAAM0E,MAAM,GAAG9L,YAAY,CAACC,OAAb,sBAAmC4L,SAAnC,EAAf;;EACA,IAAIC,MAAJ,EAAY;IACV,IAAMO,GAAG,GAAGnM,IAAI,CAACC,KAAL,CAAW2L,MAAX,EAAmBzH,IAAnB,CAAwB,UAAAyD,CAAC;MAAA,OAAIA,CAAC,CAAC4E,gBAAF,KAAuB3I,IAA3B;IAAA,CAAzB,CAAZ;;IACA,IAAIsI,GAAJ,EAAS;MACP,OAAOA,GAAG,CAACE,WAAJ,CAAgBC,OAAvB;IACD;EACF;;EACD,IAAIpF,MAAM,GAAG,CAAb,EAAgB;IACd,OAAOrD,IAAI,CAACuD,SAAL,CAAevD,IAAI,CAACqD,MAAL,GAAcA,MAA7B,CAAP;EACD;;EACD,OAAOrD,IAAP;AACD;AAED,cAAc,kBAAd;AAEA,cAAc,QAAd;AACA,WAAa6I,IAAb;EAAA;AAAA"},"metadata":{},"sourceType":"module"}