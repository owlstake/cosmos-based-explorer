"use strict";(self["webpackChunkping_wallet"]=self["webpackChunkping_wallet"]||[]).push([[886],{51886:function(t,e,r){r.r(e),r.d(e,{default:function(){return q}});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"px-0"},[r("b-card",[r("b-alert",{attrs:{variant:"danger",show:t.syncing}},[r("div",{staticClass:"alert-body"},[r("span",[t._v("No new blocks have been produced since "),r("strong",[t._v(t._s(t.latestTime))])])])]),r("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[r("b-button",{attrs:{to:"./uptime/my",variant:"primary"}},[t._v(" Browse favorite only ")]),r("b-input-group",[r("b-input-group-prepend",{attrs:{"is-text":""}},[r("b-form-checkbox",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Only missed blocks",name:"viewMissed"},model:{value:t.missedFilter,callback:function(e){t.missedFilter=e},expression:"missedFilter"}})],1),r("b-form-input",{attrs:{placeholder:"Keywords to filter validators"},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1)],1),r("b-row",t._l(t.uptime,(function(e,i){return r("b-col",{key:i,staticClass:"text-truncate",attrs:{sm:"12",md:"4",xl:"3"}},[r("div",{staticClass:"d-flex justify-content-between"},[r("b-form-checkbox",{staticClass:"custom-control-warning text-truncate",attrs:{value:t.chain+"#"+e.address},on:{change:function(r){return t.pinValidator(t.chain+"#"+e.address)}},model:{value:t.pinned,callback:function(e){t.pinned=e},expression:"pinned"}},[r("span",{staticClass:"d-inline-block text-truncate font-weight-bold align-bottom"},[t._v(t._s(i+1)+" "+t._s(e.validator.moniker))])]),t.missing[e.address]?r("span",[t.missing[e.address].missed_blocks_counter>0?r("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-danger",modifiers:{hover:!0,"v-danger":!0}}],staticClass:"text-danger text-bolder",attrs:{variant:"light-danger",title:t.missing[e.address].missed_blocks_counter+" missed blocks"}},[t._v(" "+t._s(t.missing[e.address].missed_blocks_counter)+" ")]):r("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-success",modifiers:{hover:!0,"v-success":!0}}],attrs:{variant:"light-success",title:"Perfect! No missed blocks"}},[t._v(" 0 ")])],1):t._e()],1),r("b-skeleton-wrapper",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"loading",fn:function(){return[r("b-skeleton",{attrs:{width:"100%"}})]},proxy:!0},{key:"default",fn:function(){return[r("div",{staticClass:"d-flex justify-content-between align-self-stretch flex-wrap"},t._l(t.blocks,(function(i,n){return r("div",{key:n,staticStyle:{width:"1.5%"}},[r("router-link",{attrs:{to:"./blocks/"+i.height}},[r("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-second",modifiers:{hover:!0,"v-second":!0}}],staticClass:"m-auto",class:i.sigs&&i.sigs[e.address]?i.sigs[e.address]:"bg-light-success",attrs:{title:i.height}},[t._v("Â ")])])],1)})),0)]},proxy:!0}],null,!0)})],1)})),1)],1)],1)},n=[],a=r(26253),s=r(50725),o=r(22183),l=r(8775),c=r(73106),d=r(15193),p=r(26034),u=r(19692),f=r(4060),b=r(20144),h=r(69558),g=r(94689),v=r(12299),m=r(20451);function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var O=(0,m.y2)({animation:(0,m.pi)(v.N0,"wave"),height:(0,m.pi)(v.N0),size:(0,m.pi)(v.N0),type:(0,m.pi)(v.N0,"text"),variant:(0,m.pi)(v.N0),width:(0,m.pi)(v.N0)},g.Xm),w=b["default"].extend({name:g.Xm,functional:!0,props:O,render:function(t,e){var r,i=e.data,n=e.props,a=n.size,s=n.animation,o=n.variant;return t("div",(0,h.b)(i,{staticClass:"b-skeleton",style:{width:a||n.width,height:a||n.height},class:(r={},y(r,"b-skeleton-".concat(n.type),!0),y(r,"b-skeleton-animate-".concat(s),s),y(r,"bg-".concat(o),o),r)}))}}),k=r(90494),_=r(72345),P=(0,m.y2)({loading:(0,m.pi)(v.U5,!1)},g.aD),j=b["default"].extend({name:g.aD,functional:!0,props:P,render:function(t,e){var r=e.data,i=e.props,n=e.slots,a=e.scopedSlots,s=n(),o=a||{},l={};return i.loading?t("div",(0,h.b)(r,{attrs:{role:"alert","aria-live":"polite","aria-busy":!0},staticClass:"b-skeleton-wrapper",key:"loading"}),(0,_.O)(k.pd,l,o,s)):(0,_.O)(k.Pq,l,o,s)}}),x=r(27754),C=r(5870),N=r(35436),B=r(28972),$={components:{BRow:a.T,BCol:s.l,BFormInput:o.e,BCard:l._,BAlert:c.F,BButton:d.T,BBadge:p.k,BFormCheckbox:u.l,BInputGroup:f.w,BSkeleton:w,BSkeletonWrapper:j,BInputGroupPrepend:x.P},directives:{"b-tooltip":C.o},data(){const{chain:t}=this.$route.params,e=localStorage.getItem("pinned")?localStorage.getItem("pinned").split(","):"";return{loading:!0,missedFilter:!1,pinned:e,chain:t,query:"",validators:[],missing:{},blocks:Array.from("0".repeat(50)).map((t=>({sigs:{},height:Number(t)}))),syncing:!1,latestTime:""}},computed:{uptime(){const t=this.query?this.validators.filter((t=>String(t.description.moniker).indexOf(this.query)>-1)):this.validators;t.sort(((t,e)=>e.delegator_shares-t.delegator_shares));const e=t.map((t=>({validator:t.description,address:(0,N.consensusPubkeyToHexAddress)(t.consensus_pubkey)})));return this.missedFilter?e.filter((t=>this.missing[t.address].missed_blocks_counter>0)):e}},created(){const t=JSON.parse((0,N.getCachedValidators)(this.$route.params.chain));t&&(this.validators=t),this.$http.getValidatorList().then((t=>{this.validators=t})),this.$http.getSlashingSigningInfo().then((t=>{t.info&&t.info.forEach((t=>{if(t.address){const e=(0,B.toHex)(B.Bech32.decode(t.address).data).toUpperCase();this.missing[e]=t}}))})),this.initBlocks()},beforeDestroy(){this.blocks=[],this.syncing=!1,clearInterval(this.timer)},methods:{pinValidator(){localStorage.setItem("pinned",this.pinned)},initBlocks(){this.$http.getLatestBlock().then((t=>{const{height:e}=t.block.last_commit;(0,N.timeIn)(t.block.header.time,3,"m")?this.syncing=!0:this.syncing=!1,this.latestTime=(0,N.toDay)(t.block.header.time,"long");const r=[];let i=Promise.resolve();for(let a=e-1;a>e-50;a-=1)r.unshift({sigs:{},height:a>0?a:0}),a>e-48&&a>0&&(i=i.then((()=>new Promise((t=>{this.fetch_status(a,t)})))));const n=this.initColor();t.block.last_commit.signatures.forEach((t=>{t.validator_address&&(n[t.validator_address]="bg-success")})),r.push({sigs:n,height:e}),this.blocks=r,this.timer=setInterval(this.fetch_latest,6e3),this.loading=!1}))},initColor(){const t={};return this.validators.forEach((e=>{t[(0,N.consensusPubkeyToHexAddress)(e.consensus_pubkey)]="bg-danger"})),t},fetch_status(t,e){const r=this.blocks.find((e=>e.height===t));r&&this.$http.getBlockByHeight(t).then((t=>{e();const i=this.initColor();t.block.last_commit.signatures.forEach((t=>{t.validator_address&&(i[t.validator_address]="bg-success")})),this.$set(r,"sigs",i)}))},fetch_latest(){this.$http.getLatestBlock().then((t=>{const e=this.initColor();t.block.last_commit.signatures.forEach((t=>{t.validator_address&&(e[t.validator_address]="bg-success")}));const r=this.blocks.find((e=>e.height===t.block.last_commit.height));"undefined"===typeof r&&(this.blocks.length>=50&&this.blocks.shift(),this.blocks.push({sigs:e,height:t.block.last_commit.height}))}))}}},D=$,E=r(1001),S=(0,E.Z)(D,i,n,!1,null,null,null),q=S.exports},26034:function(t,e,r){r.d(e,{k:function(){return g}});var i=r(20144),n=r(69558),a=r(94689),s=r(12299),o=r(67040),l=r(20451),c=r(30488),d=r(67347);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var b=(0,o.CE)(d.NQ,["event","routerTag"]);delete b.href.default,delete b.to.default;var h=(0,l.y2)((0,o.GE)(u(u({},b),{},{pill:(0,l.pi)(s.U5,!1),tag:(0,l.pi)(s.N0,"span"),variant:(0,l.pi)(s.N0,"secondary")})),a.dJ),g=i["default"].extend({name:a.dJ,functional:!0,props:h,render:function(t,e){var r=e.props,i=e.data,a=e.children,s=r.active,o=r.disabled,p=(0,c.u$)(r),u=p?d.we:r.tag,f=r.variant||"secondary";return t(u,(0,n.b)(i,{staticClass:"badge",class:["badge-".concat(f),{"badge-pill":r.pill,active:s,disabled:o}],props:p?(0,l.uj)(b,r):{}}),a)}})},74199:function(t,e,r){r.d(e,{B:function(){return d},N:function(){return c}});var i=r(20144),n=r(69558),a=r(94689),s=r(12299),o=r(20451),l=r(18222),c=(0,o.y2)({append:(0,o.pi)(s.U5,!1),id:(0,o.pi)(s.N0),isText:(0,o.pi)(s.U5,!1),tag:(0,o.pi)(s.N0,"div")},a.gb),d=i["default"].extend({name:a.gb,functional:!0,props:c,render:function(t,e){var r=e.props,i=e.data,a=e.children,s=r.append;return t(r.tag,(0,n.b)(i,{class:{"input-group-append":s,"input-group-prepend":!s},attrs:{id:r.id}}),r.isText?[t(l.e,a)]:a)}})},22418:function(t,e,r){r.d(e,{B:function(){return f}});var i=r(20144),n=r(69558),a=r(94689),s=r(67040),o=r(20451),l=r(74199);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=(0,o.y2)((0,s.CE)(l.N,["append"]),a.Il),f=i["default"].extend({name:a.Il,functional:!0,props:u,render:function(t,e){var r=e.props,i=e.data,a=e.children;return t(l.B,(0,n.b)(i,{props:d(d({},r),{},{append:!0})}),a)}})},27754:function(t,e,r){r.d(e,{P:function(){return f}});var i=r(20144),n=r(69558),a=r(94689),s=r(67040),o=r(20451),l=r(74199);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=(0,o.y2)((0,s.CE)(l.N,["append"]),a.iG),f=i["default"].extend({name:a.iG,functional:!0,props:u,render:function(t,e){var r=e.props,i=e.data,a=e.children;return t(l.B,(0,n.b)(i,{props:d(d({},r),{},{append:!1})}),a)}})},18222:function(t,e,r){r.d(e,{e:function(){return c}});var i=r(20144),n=r(69558),a=r(94689),s=r(12299),o=r(20451),l=(0,o.y2)({tag:(0,o.pi)(s.N0,"div")},a.HQ),c=i["default"].extend({name:a.HQ,functional:!0,props:l,render:function(t,e){var r=e.props,i=e.data,a=e.children;return t(r.tag,(0,n.b)(i,{staticClass:"input-group-text"}),a)}})},4060:function(t,e,r){r.d(e,{w:function(){return g}});var i=r(20144),n=r(69558),a=r(94689),s=r(12299),o=r(90494),l=r(18735),c=r(72345),d=r(20451),p=r(22418),u=r(27754),f=r(18222);function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h=(0,d.y2)({append:(0,d.pi)(s.N0),appendHtml:(0,d.pi)(s.N0),id:(0,d.pi)(s.N0),prepend:(0,d.pi)(s.N0),prependHtml:(0,d.pi)(s.N0),size:(0,d.pi)(s.N0),tag:(0,d.pi)(s.N0,"div")},a.aZ),g=i["default"].extend({name:a.aZ,functional:!0,props:h,render:function(t,e){var r=e.props,i=e.data,a=e.slots,s=e.scopedSlots,d=r.prepend,h=r.prependHtml,g=r.append,v=r.appendHtml,m=r.size,y=s||{},O=a(),w={},k=t(),_=(0,c.Q)(o.kg,y,O);(_||d||h)&&(k=t(u.P,[_?(0,c.O)(o.kg,w,y,O):t(f.e,{domProps:(0,l.U)(h,d)})]));var P=t(),j=(0,c.Q)(o.G$,y,O);return(j||g||v)&&(P=t(p.B,[j?(0,c.O)(o.G$,w,y,O):t(f.e,{domProps:(0,l.U)(v,g)})])),t(r.tag,(0,n.b)(i,{staticClass:"input-group",class:b({},"input-group-".concat(m),m),attrs:{id:r.id||null,role:"group"}}),[k,(0,c.O)(o.Pq,w,y,O),P])}})},5870:function(t,e,r){r.d(e,{o:function(){return I}});var i=r(94689),n=r(43935),a=r(63294),s=r(11572),o=r(79968),l=r(13597),c=r(68265),d=r(33284),p=r(3058),u=r(93954),f=r(67040),b=r(40960);function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m="__BV_Tooltip__",y="hover focus",O={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},w=/^html$/i,k=/^noninteractive$/i,_=/^nofade$/i,P=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,j=/^(window|viewport|scrollParent)$/i,x=/^d\d+$/i,C=/^ds\d+$/i,N=/^dh\d+$/i,B=/^o-?\d+$/i,$=/^v-.+$/i,D=/\s+/,E=function(t,e){var r={title:void 0,trigger:"",placement:"top",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,id:null,html:!1,interactive:!0,disabled:!1,delay:(0,o.wJ)(i.qv,"delay",50),boundary:String((0,o.wJ)(i.qv,"boundary","scrollParent")),boundaryPadding:(0,u.Z3)((0,o.wJ)(i.qv,"boundaryPadding",5),0),variant:(0,o.wJ)(i.qv,"variant"),customClass:(0,o.wJ)(i.qv,"customClass")};if((0,d.HD)(t.value)||(0,d.hj)(t.value)||(0,d.mf)(t.value)?r.title=t.value:(0,d.PO)(t.value)&&(r=g(g({},r),t.value)),(0,d.o8)(r.title)){var n=e.data||{};r.title=n.attrs&&!(0,d.Jp)(n.attrs.title)?n.attrs.title:void 0}(0,d.PO)(r.delay)||(r.delay={show:(0,u.Z3)(r.delay,0),hide:(0,u.Z3)(r.delay,0)}),t.arg&&(r.container="#".concat(t.arg)),(0,f.XP)(t.modifiers).forEach((function(t){if(w.test(t))r.html=!0;else if(k.test(t))r.interactive=!1;else if(_.test(t))r.animation=!1;else if(P.test(t))r.placement=t;else if(j.test(t))t="scrollparent"===t?"scrollParent":t,r.boundary=t;else if(x.test(t)){var e=(0,u.Z3)(t.slice(1),0);r.delay.show=e,r.delay.hide=e}else C.test(t)?r.delay.show=(0,u.Z3)(t.slice(2),0):N.test(t)?r.delay.hide=(0,u.Z3)(t.slice(2),0):B.test(t)?r.offset=(0,u.Z3)(t.slice(1),0):$.test(t)&&(r.variant=t.slice(2)||null)}));var a={};return(0,s.zo)(r.trigger||"").filter(c.y).join(" ").trim().toLowerCase().split(D).forEach((function(t){O[t]&&(a[t]=!0)})),(0,f.XP)(t.modifiers).forEach((function(t){t=t.toLowerCase(),O[t]&&(a[t]=!0)})),r.trigger=(0,f.XP)(a).join(" "),"blur"===r.trigger&&(r.trigger="focus"),r.trigger||(r.trigger=y),r},S=function(t,e,r){if(n.Qg){var i=E(e,r);if(!t[m]){var s=r.context;t[m]=new b.j({parent:s,_scopeId:(0,l.P)(s,void 0)}),t[m].__bv_prev_data__={},t[m].$on(a.l0,(function(){(0,d.mf)(i.title)&&t[m].updateData({title:i.title(t)})}))}var o={title:i.title,triggers:i.trigger,placement:i.placement,fallbackPlacement:i.fallbackPlacement,variant:i.variant,customClass:i.customClass,container:i.container,boundary:i.boundary,delay:i.delay,offset:i.offset,noFade:!i.animation,id:i.id,interactive:i.interactive,disabled:i.disabled,html:i.html},c=t[m].__bv_prev_data__;if(t[m].__bv_prev_data__=o,!(0,p.W)(o,c)){var u={target:t};(0,f.XP)(o).forEach((function(e){o[e]!==c[e]&&(u[e]="title"===e&&(0,d.mf)(o[e])?o[e](t):o[e])})),t[m].updateData(u)}}},q=function(t){t[m]&&(t[m].$destroy(),t[m]=null),delete t[m]},I={bind:function(t,e,r){S(t,e,r)},componentUpdated:function(t,e,r){r.context.$nextTick((function(){S(t,e,r)}))},unbind:function(t){q(t)}}}}]);